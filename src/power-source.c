/* power-source.c generated by valac 0.24.0, the Vala compiler
 * generated from power-source.vala, do not modify */

/* -*- Mode: vala; indent-tabs-mode: t; c-basic-offset: 4; tab-width: 4 -*-  */
/*
 * ground.vala
 * Copyright (C) 2014 Steven Vanden Branden <Stevenvandenbrandenstift@gmail.com>
 *
 * ElektroSim is free software: you can redistribute it and/or modify it
 * under the terms of the GNU General Public License as published by the
 * Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * ElektroSim is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 * See the GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License along
 * with this program.  If not, see <http://www.gnu.org/licenses/>.
 */

#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <cairo.h>
#include <stdlib.h>
#include <string.h>
#include <gee.h>
#include <float.h>
#include <math.h>


#define ELEKTRO_SIM_TYPE_COMPONENT (elektro_sim_component_get_type ())
#define ELEKTRO_SIM_COMPONENT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ELEKTRO_SIM_TYPE_COMPONENT, ElektroSimComponent))
#define ELEKTRO_SIM_COMPONENT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ELEKTRO_SIM_TYPE_COMPONENT, ElektroSimComponentClass))
#define ELEKTRO_SIM_IS_COMPONENT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ELEKTRO_SIM_TYPE_COMPONENT))
#define ELEKTRO_SIM_IS_COMPONENT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ELEKTRO_SIM_TYPE_COMPONENT))
#define ELEKTRO_SIM_COMPONENT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ELEKTRO_SIM_TYPE_COMPONENT, ElektroSimComponentClass))

typedef struct _ElektroSimComponent ElektroSimComponent;
typedef struct _ElektroSimComponentClass ElektroSimComponentClass;
typedef struct _ElektroSimComponentPrivate ElektroSimComponentPrivate;

#define ELEKTRO_SIM_TYPE_PARAMETER (elektro_sim_parameter_get_type ())
#define ELEKTRO_SIM_PARAMETER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ELEKTRO_SIM_TYPE_PARAMETER, ElektroSimParameter))
#define ELEKTRO_SIM_PARAMETER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ELEKTRO_SIM_TYPE_PARAMETER, ElektroSimParameterClass))
#define ELEKTRO_SIM_IS_PARAMETER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ELEKTRO_SIM_TYPE_PARAMETER))
#define ELEKTRO_SIM_IS_PARAMETER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ELEKTRO_SIM_TYPE_PARAMETER))
#define ELEKTRO_SIM_PARAMETER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ELEKTRO_SIM_TYPE_PARAMETER, ElektroSimParameterClass))

typedef struct _ElektroSimParameter ElektroSimParameter;
typedef struct _ElektroSimParameterClass ElektroSimParameterClass;

#define ELEKTRO_SIM_TYPE_POINT (elektro_sim_point_get_type ())
#define ELEKTRO_SIM_POINT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ELEKTRO_SIM_TYPE_POINT, ElektroSimPoint))
#define ELEKTRO_SIM_POINT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ELEKTRO_SIM_TYPE_POINT, ElektroSimPointClass))
#define ELEKTRO_SIM_IS_POINT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ELEKTRO_SIM_TYPE_POINT))
#define ELEKTRO_SIM_IS_POINT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ELEKTRO_SIM_TYPE_POINT))
#define ELEKTRO_SIM_POINT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ELEKTRO_SIM_TYPE_POINT, ElektroSimPointClass))

typedef struct _ElektroSimPoint ElektroSimPoint;
typedef struct _ElektroSimPointClass ElektroSimPointClass;

#define ELEKTRO_SIM_TYPE_POWER_SOURCE (elektro_sim_power_source_get_type ())
#define ELEKTRO_SIM_POWER_SOURCE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ELEKTRO_SIM_TYPE_POWER_SOURCE, ElektroSimPowerSource))
#define ELEKTRO_SIM_POWER_SOURCE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ELEKTRO_SIM_TYPE_POWER_SOURCE, ElektroSimPowerSourceClass))
#define ELEKTRO_SIM_IS_POWER_SOURCE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ELEKTRO_SIM_TYPE_POWER_SOURCE))
#define ELEKTRO_SIM_IS_POWER_SOURCE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ELEKTRO_SIM_TYPE_POWER_SOURCE))
#define ELEKTRO_SIM_POWER_SOURCE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ELEKTRO_SIM_TYPE_POWER_SOURCE, ElektroSimPowerSourceClass))

typedef struct _ElektroSimPowerSource ElektroSimPowerSource;
typedef struct _ElektroSimPowerSourceClass ElektroSimPowerSourceClass;
typedef struct _ElektroSimPowerSourcePrivate ElektroSimPowerSourcePrivate;

#define ELEKTRO_SIM_POWER_SOURCE_TYPE_TYPE (elektro_sim_power_source_type_get_type ())

#define ELEKTRO_SIM_POWER_SOURCE_TYPE_RANDOM_TYPE (elektro_sim_power_source_random_type_get_type ())
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))

#define ELEKTRO_SIM_PARAMETER_TYPE_WIDGET_STYLE (elektro_sim_parameter_widget_style_get_type ())
#define _elektro_sim_point_unref0(var) ((var == NULL) ? NULL : (var = (elektro_sim_point_unref (var), NULL)))

#define ELEKTRO_SIM_COMPONENT_TYPE_ORIENTATION (elektro_sim_component_orientation_get_type ())

#define ELEKTRO_SIM_COMPONENT_LIST_TYPE_MODE (elektro_sim_component_list_mode_get_type ())
#define _g_free0(var) (var = (g_free (var), NULL))

#define ELEKTRO_SIM_COMPONENT_TYPE_COMPONENT_TYPE (elektro_sim_component_component_type_get_type ())

struct _ElektroSimComponent {
	GtkListBoxRow parent_instance;
	ElektroSimComponentPrivate * priv;
	GeeArrayList* parameters;
	GeeArrayList* connections;
	cairo_surface_t* image_surface;
	cairo_t* image_context;
	cairo_surface_t* emoticon_surface;
	cairo_t* emoticon_context;
};

struct _ElektroSimComponentClass {
	GtkListBoxRowClass parent_class;
	ElektroSimComponent* (*clone) (ElektroSimComponent* self);
	void (*snap) (ElektroSimComponent* self, gint range, gint x, gint y);
	void (*draw_image) (ElektroSimComponent* self, cairo_t* cr);
	void (*clear_counter) (ElektroSimComponent* self);
	gchar* (*get_netlist_line) (ElektroSimComponent* self);
};

struct _ElektroSimPowerSource {
	ElektroSimComponent parent_instance;
	ElektroSimPowerSourcePrivate * priv;
};

struct _ElektroSimPowerSourceClass {
	ElektroSimComponentClass parent_class;
};

struct _ElektroSimPowerSourcePrivate {
	GeeArrayList* optionsAdded;
	GeeArrayList* randomOptionsAdded;
};

typedef enum  {
	ELEKTRO_SIM_POWER_SOURCE_TYPE_DC,
	ELEKTRO_SIM_POWER_SOURCE_TYPE_DCAC,
	ELEKTRO_SIM_POWER_SOURCE_TYPE_SINUS,
	ELEKTRO_SIM_POWER_SOURCE_TYPE_PULSE,
	ELEKTRO_SIM_POWER_SOURCE_TYPE_EXPO,
	ELEKTRO_SIM_POWER_SOURCE_TYPE_SFFM,
	ELEKTRO_SIM_POWER_SOURCE_TYPE_AM,
	ELEKTRO_SIM_POWER_SOURCE_TYPE_RANDOM,
	ELEKTRO_SIM_POWER_SOURCE_TYPE_TRANSNOISE,
	ELEKTRO_SIM_POWER_SOURCE_TYPE_PWLINEAR
} ElektroSimPowerSourceType;

typedef enum  {
	ELEKTRO_SIM_POWER_SOURCE_RANDOM_TYPE_UNIFORM,
	ELEKTRO_SIM_POWER_SOURCE_RANDOM_TYPE_GAUSSIAN,
	ELEKTRO_SIM_POWER_SOURCE_RANDOM_TYPE_EXPONENTIAL,
	ELEKTRO_SIM_POWER_SOURCE_RANDOM_TYPE_POISSON
} ElektroSimPowerSourceRandomType;

typedef enum  {
	ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_NONE,
	ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_LABEL,
	ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_ENTRY,
	ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_OPTIONS,
	ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER
} ElektroSimParameterWidgetStyle;

typedef void (*ElektroSimParameterOptionsMethod) (gint option, void* user_data);
typedef enum  {
	ELEKTRO_SIM_COMPONENT_ORIENTATION_NONE,
	ELEKTRO_SIM_COMPONENT_ORIENTATION_RIGHT,
	ELEKTRO_SIM_COMPONENT_ORIENTATION_LEFT,
	ELEKTRO_SIM_COMPONENT_ORIENTATION_DOWN,
	ELEKTRO_SIM_COMPONENT_ORIENTATION_UP
} ElektroSimComponentOrientation;

typedef enum  {
	ELEKTRO_SIM_COMPONENT_LIST_MODE_UNKNOWN,
	ELEKTRO_SIM_COMPONENT_LIST_MODE_EDIT,
	ELEKTRO_SIM_COMPONENT_LIST_MODE_SIMULATION
} ElektroSimComponentListMode;

typedef enum  {
	ELEKTRO_SIM_COMPONENT_COMPONENT_TYPE_COMPONENT,
	ELEKTRO_SIM_COMPONENT_COMPONENT_TYPE_TEMPLATE,
	ELEKTRO_SIM_COMPONENT_COMPONENT_TYPE_SIMULATION
} ElektroSimComponentComponentType;


static gpointer elektro_sim_power_source_parent_class = NULL;
extern gint elektro_sim_power_source_counter;
gint elektro_sim_power_source_counter = 0;

GType elektro_sim_component_get_type (void) G_GNUC_CONST;
GType elektro_sim_parameter_get_type (void) G_GNUC_CONST;
gpointer elektro_sim_point_ref (gpointer instance);
void elektro_sim_point_unref (gpointer instance);
GParamSpec* elektro_sim_param_spec_point (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void elektro_sim_value_set_point (GValue* value, gpointer v_object);
void elektro_sim_value_take_point (GValue* value, gpointer v_object);
gpointer elektro_sim_value_get_point (const GValue* value);
GType elektro_sim_point_get_type (void) G_GNUC_CONST;
GType elektro_sim_power_source_get_type (void) G_GNUC_CONST;
#define ELEKTRO_SIM_POWER_SOURCE_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), ELEKTRO_SIM_TYPE_POWER_SOURCE, ElektroSimPowerSourcePrivate))
enum  {
	ELEKTRO_SIM_POWER_SOURCE_DUMMY_PROPERTY
};
GType elektro_sim_power_source_type_get_type (void) G_GNUC_CONST;
GType elektro_sim_power_source_random_type_get_type (void) G_GNUC_CONST;
ElektroSimPowerSource* elektro_sim_power_source_new (gint option);
ElektroSimPowerSource* elektro_sim_power_source_construct (GType object_type, gint option);
ElektroSimComponent* elektro_sim_component_construct (GType object_type, const gchar* name);
void elektro_sim_component_set_width (ElektroSimComponent* self, gint value);
void elektro_sim_component_set_height (ElektroSimComponent* self, gint value);
GType elektro_sim_parameter_widget_style_get_type (void) G_GNUC_CONST;
ElektroSimParameter* elektro_sim_component_add_parameter (ElektroSimComponent* self, const gchar* name, gdouble val, const gchar* unit, ElektroSimParameterWidgetStyle simulation, ElektroSimParameterWidgetStyle edit, GeeArrayList* options);
void elektro_sim_power_source_change_type (ElektroSimPowerSource* self, gint option);
static void _elektro_sim_power_source_change_type_elektro_sim_parameter_options_method (gint option, gpointer self);
void elektro_sim_parameter_set_optionsMethod (ElektroSimParameter* self, ElektroSimParameterOptionsMethod value, gpointer value_target);
static void elektro_sim_power_source_real_draw_image (ElektroSimComponent* base, cairo_t* cr);
gint elektro_sim_point_get_x (ElektroSimPoint* self);
gint elektro_sim_point_get_y (ElektroSimPoint* self);
GType elektro_sim_component_orientation_get_type (void) G_GNUC_CONST;
ElektroSimComponentOrientation elektro_sim_component_get_orientation (ElektroSimComponent* self);
gint elektro_sim_component_get_width (ElektroSimComponent* self);
gint elektro_sim_component_get_height (ElektroSimComponent* self);
static void elektro_sim_power_source_reset_options (ElektroSimPowerSource* self);
GtkBox* elektro_sim_component_get_grid (ElektroSimComponent* self);
static void elektro_sim_power_source_reset_random_options (ElektroSimPowerSource* self);
static void elektro_sim_power_source_change_random_type (ElektroSimPowerSource* self, gint option);
ElektroSimParameter* elektro_sim_component_get_parameter (ElektroSimComponent* self, const gchar* name);
void elektro_sim_parameter_set_val (ElektroSimParameter* self, gdouble value);
GType elektro_sim_component_list_mode_get_type (void) G_GNUC_CONST;
void elektro_sim_component_set_mode (ElektroSimComponent* self, ElektroSimComponentListMode mode);
void elektro_sim_debug (const gchar* line);
static void _elektro_sim_power_source_change_random_type_elektro_sim_parameter_options_method (gint option, gpointer self);
static void elektro_sim_power_source_real_clear_counter (ElektroSimComponent* base);
static ElektroSimComponent* elektro_sim_power_source_real_clone (ElektroSimComponent* base);
gdouble elektro_sim_parameter_get_val (ElektroSimParameter* self);
void elektro_sim_component_set_name (ElektroSimComponent* self, const gchar* new_name);
GType elektro_sim_component_component_type_get_type (void) G_GNUC_CONST;
void elektro_sim_component_set_componentType (ElektroSimComponent* self, ElektroSimComponentComponentType value);
const gchar* elektro_sim_parameter_get_name (ElektroSimParameter* self);
void elektro_sim_parameter_set_value (ElektroSimParameter* self, gdouble temp);
static void elektro_sim_power_source_real_snap (ElektroSimComponent* base, gint range, gint x, gint y);
ElektroSimPoint* elektro_sim_point_new (gint x, gint y);
ElektroSimPoint* elektro_sim_point_construct (GType object_type, gint x, gint y);
ElektroSimPoint* elektro_sim_point_point_nearby (ElektroSimPoint* self, gint range);
ElektroSimComponentOrientation elektro_sim_point_connect_component (ElektroSimPoint* self, ElektroSimComponent* component);
void elektro_sim_component_set_orientation (ElektroSimComponent* self, ElektroSimComponentOrientation value);
static gchar* elektro_sim_power_source_real_get_netlist_line (ElektroSimComponent* base);
gint elektro_sim_point_get_net (ElektroSimPoint* self);
static void elektro_sim_power_source_finalize (GObject* obj);


GType elektro_sim_power_source_type_get_type (void) {
	static volatile gsize elektro_sim_power_source_type_type_id__volatile = 0;
	if (g_once_init_enter (&elektro_sim_power_source_type_type_id__volatile)) {
		static const GEnumValue values[] = {{ELEKTRO_SIM_POWER_SOURCE_TYPE_DC, "ELEKTRO_SIM_POWER_SOURCE_TYPE_DC", "dc"}, {ELEKTRO_SIM_POWER_SOURCE_TYPE_DCAC, "ELEKTRO_SIM_POWER_SOURCE_TYPE_DCAC", "dcac"}, {ELEKTRO_SIM_POWER_SOURCE_TYPE_SINUS, "ELEKTRO_SIM_POWER_SOURCE_TYPE_SINUS", "sinus"}, {ELEKTRO_SIM_POWER_SOURCE_TYPE_PULSE, "ELEKTRO_SIM_POWER_SOURCE_TYPE_PULSE", "pulse"}, {ELEKTRO_SIM_POWER_SOURCE_TYPE_EXPO, "ELEKTRO_SIM_POWER_SOURCE_TYPE_EXPO", "expo"}, {ELEKTRO_SIM_POWER_SOURCE_TYPE_SFFM, "ELEKTRO_SIM_POWER_SOURCE_TYPE_SFFM", "sffm"}, {ELEKTRO_SIM_POWER_SOURCE_TYPE_AM, "ELEKTRO_SIM_POWER_SOURCE_TYPE_AM", "am"}, {ELEKTRO_SIM_POWER_SOURCE_TYPE_RANDOM, "ELEKTRO_SIM_POWER_SOURCE_TYPE_RANDOM", "random"}, {ELEKTRO_SIM_POWER_SOURCE_TYPE_TRANSNOISE, "ELEKTRO_SIM_POWER_SOURCE_TYPE_TRANSNOISE", "transnoise"}, {ELEKTRO_SIM_POWER_SOURCE_TYPE_PWLINEAR, "ELEKTRO_SIM_POWER_SOURCE_TYPE_PWLINEAR", "pwlinear"}, {0, NULL, NULL}};
		GType elektro_sim_power_source_type_type_id;
		elektro_sim_power_source_type_type_id = g_enum_register_static ("ElektroSimPowerSourceType", values);
		g_once_init_leave (&elektro_sim_power_source_type_type_id__volatile, elektro_sim_power_source_type_type_id);
	}
	return elektro_sim_power_source_type_type_id__volatile;
}


GType elektro_sim_power_source_random_type_get_type (void) {
	static volatile gsize elektro_sim_power_source_random_type_type_id__volatile = 0;
	if (g_once_init_enter (&elektro_sim_power_source_random_type_type_id__volatile)) {
		static const GEnumValue values[] = {{ELEKTRO_SIM_POWER_SOURCE_RANDOM_TYPE_UNIFORM, "ELEKTRO_SIM_POWER_SOURCE_RANDOM_TYPE_UNIFORM", "uniform"}, {ELEKTRO_SIM_POWER_SOURCE_RANDOM_TYPE_GAUSSIAN, "ELEKTRO_SIM_POWER_SOURCE_RANDOM_TYPE_GAUSSIAN", "gaussian"}, {ELEKTRO_SIM_POWER_SOURCE_RANDOM_TYPE_EXPONENTIAL, "ELEKTRO_SIM_POWER_SOURCE_RANDOM_TYPE_EXPONENTIAL", "exponential"}, {ELEKTRO_SIM_POWER_SOURCE_RANDOM_TYPE_POISSON, "ELEKTRO_SIM_POWER_SOURCE_RANDOM_TYPE_POISSON", "poisson"}, {0, NULL, NULL}};
		GType elektro_sim_power_source_random_type_type_id;
		elektro_sim_power_source_random_type_type_id = g_enum_register_static ("ElektroSimPowerSourceRandomType", values);
		g_once_init_leave (&elektro_sim_power_source_random_type_type_id__volatile, elektro_sim_power_source_random_type_type_id);
	}
	return elektro_sim_power_source_random_type_type_id__volatile;
}


static void _elektro_sim_power_source_change_type_elektro_sim_parameter_options_method (gint option, gpointer self) {
	elektro_sim_power_source_change_type ((ElektroSimPowerSource*) self, option);
}


ElektroSimPowerSource* elektro_sim_power_source_construct (GType object_type, gint option) {
	ElektroSimPowerSource * self = NULL;
	GeeArrayList* temp = NULL;
	GeeArrayList* _tmp0_ = NULL;
	ElektroSimParameter* type = NULL;
	gint _tmp1_ = 0;
	ElektroSimParameter* _tmp2_ = NULL;
	GeeArrayList* _tmp3_ = NULL;
	GeeArrayList* _tmp4_ = NULL;
	gint _tmp5_ = 0;
	self = (ElektroSimPowerSource*) elektro_sim_component_construct (object_type, "PowerSource");
	elektro_sim_component_set_width ((ElektroSimComponent*) self, 100);
	elektro_sim_component_set_height ((ElektroSimComponent*) self, 50);
	_tmp0_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
	temp = _tmp0_;
	gee_abstract_collection_add ((GeeAbstractCollection*) temp, "dc");
	gee_abstract_collection_add ((GeeAbstractCollection*) temp, "dc/ac");
	gee_abstract_collection_add ((GeeAbstractCollection*) temp, "sinus");
	gee_abstract_collection_add ((GeeAbstractCollection*) temp, "pulse");
	gee_abstract_collection_add ((GeeAbstractCollection*) temp, "expo");
	gee_abstract_collection_add ((GeeAbstractCollection*) temp, "1 freq FM");
	gee_abstract_collection_add ((GeeAbstractCollection*) temp, "amplitude modulation");
	gee_abstract_collection_add ((GeeAbstractCollection*) temp, "random");
	_tmp1_ = option;
	_tmp2_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "type", (gdouble) _tmp1_, "", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_OPTIONS, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_OPTIONS, temp);
	type = _tmp2_;
	elektro_sim_parameter_set_optionsMethod (type, _elektro_sim_power_source_change_type_elektro_sim_parameter_options_method, self);
	_tmp3_ = gee_array_list_new (ELEKTRO_SIM_TYPE_PARAMETER, (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL, NULL, NULL);
	_g_object_unref0 (self->priv->optionsAdded);
	self->priv->optionsAdded = _tmp3_;
	_tmp4_ = gee_array_list_new (ELEKTRO_SIM_TYPE_PARAMETER, (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL, NULL, NULL);
	_g_object_unref0 (self->priv->randomOptionsAdded);
	self->priv->randomOptionsAdded = _tmp4_;
	_tmp5_ = option;
	elektro_sim_power_source_change_type (self, _tmp5_);
	_g_object_unref0 (type);
	_g_object_unref0 (temp);
	return self;
}


ElektroSimPowerSource* elektro_sim_power_source_new (gint option) {
	return elektro_sim_power_source_construct (ELEKTRO_SIM_TYPE_POWER_SOURCE, option);
}


static void elektro_sim_power_source_real_draw_image (ElektroSimComponent* base, cairo_t* cr) {
	ElektroSimPowerSource * self;
	gint p1_x = 0;
	GeeArrayList* _tmp0_ = NULL;
	gpointer _tmp1_ = NULL;
	ElektroSimPoint* _tmp2_ = NULL;
	gint _tmp3_ = 0;
	gint _tmp4_ = 0;
	gint _tmp5_ = 0;
	gint p1_y = 0;
	GeeArrayList* _tmp6_ = NULL;
	gpointer _tmp7_ = NULL;
	ElektroSimPoint* _tmp8_ = NULL;
	gint _tmp9_ = 0;
	gint _tmp10_ = 0;
	gint _tmp11_ = 0;
	cairo_t* _tmp12_ = NULL;
	gint _tmp13_ = 0;
	gint _tmp14_ = 0;
	ElektroSimComponentOrientation _tmp15_ = 0;
	ElektroSimComponentOrientation _tmp16_ = 0;
	cairo_t* _tmp33_ = NULL;
	cairo_t* _tmp34_ = NULL;
	gint _tmp35_ = 0;
	gint _tmp36_ = 0;
	ElektroSimComponentOrientation _tmp37_ = 0;
	ElektroSimComponentOrientation _tmp38_ = 0;
	cairo_t* _tmp65_ = NULL;
	const gchar* _tmp66_ = NULL;
	const gchar* _tmp67_ = NULL;
	cairo_t* _tmp68_ = NULL;
	self = (ElektroSimPowerSource*) base;
	g_return_if_fail (cr != NULL);
	_tmp0_ = ((ElektroSimComponent*) self)->connections;
	_tmp1_ = gee_abstract_list_get ((GeeAbstractList*) _tmp0_, 0);
	_tmp2_ = (ElektroSimPoint*) _tmp1_;
	_tmp3_ = elektro_sim_point_get_x (_tmp2_);
	_tmp4_ = _tmp3_;
	_tmp5_ = _tmp4_;
	_elektro_sim_point_unref0 (_tmp2_);
	p1_x = _tmp5_;
	_tmp6_ = ((ElektroSimComponent*) self)->connections;
	_tmp7_ = gee_abstract_list_get ((GeeAbstractList*) _tmp6_, 0);
	_tmp8_ = (ElektroSimPoint*) _tmp7_;
	_tmp9_ = elektro_sim_point_get_y (_tmp8_);
	_tmp10_ = _tmp9_;
	_tmp11_ = _tmp10_;
	_elektro_sim_point_unref0 (_tmp8_);
	p1_y = _tmp11_;
	_tmp12_ = cr;
	_tmp13_ = p1_x;
	_tmp14_ = p1_y;
	cairo_move_to (_tmp12_, (gdouble) _tmp13_, (gdouble) _tmp14_);
	_tmp15_ = elektro_sim_component_get_orientation ((ElektroSimComponent*) self);
	_tmp16_ = _tmp15_;
	if (_tmp16_ == ELEKTRO_SIM_COMPONENT_ORIENTATION_RIGHT) {
		cairo_t* _tmp17_ = NULL;
		gint _tmp18_ = 0;
		gint _tmp19_ = 0;
		_tmp17_ = cr;
		_tmp18_ = elektro_sim_component_get_width ((ElektroSimComponent*) self);
		_tmp19_ = _tmp18_;
		cairo_rel_line_to (_tmp17_, (gdouble) _tmp19_, (gdouble) 0);
	} else {
		ElektroSimComponentOrientation _tmp20_ = 0;
		ElektroSimComponentOrientation _tmp21_ = 0;
		_tmp20_ = elektro_sim_component_get_orientation ((ElektroSimComponent*) self);
		_tmp21_ = _tmp20_;
		if (_tmp21_ == ELEKTRO_SIM_COMPONENT_ORIENTATION_LEFT) {
			cairo_t* _tmp22_ = NULL;
			gint _tmp23_ = 0;
			gint _tmp24_ = 0;
			_tmp22_ = cr;
			_tmp23_ = elektro_sim_component_get_width ((ElektroSimComponent*) self);
			_tmp24_ = _tmp23_;
			cairo_rel_line_to (_tmp22_, (gdouble) (-_tmp24_), (gdouble) 0);
		} else {
			ElektroSimComponentOrientation _tmp25_ = 0;
			ElektroSimComponentOrientation _tmp26_ = 0;
			_tmp25_ = elektro_sim_component_get_orientation ((ElektroSimComponent*) self);
			_tmp26_ = _tmp25_;
			if (_tmp26_ == ELEKTRO_SIM_COMPONENT_ORIENTATION_UP) {
				cairo_t* _tmp27_ = NULL;
				gint _tmp28_ = 0;
				gint _tmp29_ = 0;
				_tmp27_ = cr;
				_tmp28_ = elektro_sim_component_get_width ((ElektroSimComponent*) self);
				_tmp29_ = _tmp28_;
				cairo_rel_line_to (_tmp27_, (gdouble) 0, (gdouble) (-_tmp29_));
			} else {
				cairo_t* _tmp30_ = NULL;
				gint _tmp31_ = 0;
				gint _tmp32_ = 0;
				_tmp30_ = cr;
				_tmp31_ = elektro_sim_component_get_width ((ElektroSimComponent*) self);
				_tmp32_ = _tmp31_;
				cairo_rel_line_to (_tmp30_, (gdouble) 0, (gdouble) _tmp32_);
			}
		}
	}
	_tmp33_ = cr;
	cairo_stroke (_tmp33_);
	_tmp34_ = cr;
	_tmp35_ = elektro_sim_component_get_height ((ElektroSimComponent*) self);
	_tmp36_ = _tmp35_;
	cairo_set_font_size (_tmp34_, _tmp36_ * 0.4);
	_tmp37_ = elektro_sim_component_get_orientation ((ElektroSimComponent*) self);
	_tmp38_ = _tmp37_;
	if (_tmp38_ == ELEKTRO_SIM_COMPONENT_ORIENTATION_RIGHT) {
		cairo_t* _tmp39_ = NULL;
		gint _tmp40_ = 0;
		gint _tmp41_ = 0;
		gint _tmp42_ = 0;
		gint _tmp43_ = 0;
		_tmp39_ = cr;
		_tmp40_ = p1_x;
		_tmp41_ = elektro_sim_component_get_width ((ElektroSimComponent*) self);
		_tmp42_ = _tmp41_;
		_tmp43_ = p1_y;
		cairo_move_to (_tmp39_, _tmp40_ + (_tmp42_ * 0.65), (gdouble) (_tmp43_ - 5));
	} else {
		ElektroSimComponentOrientation _tmp44_ = 0;
		ElektroSimComponentOrientation _tmp45_ = 0;
		_tmp44_ = elektro_sim_component_get_orientation ((ElektroSimComponent*) self);
		_tmp45_ = _tmp44_;
		if (_tmp45_ == ELEKTRO_SIM_COMPONENT_ORIENTATION_LEFT) {
			cairo_t* _tmp46_ = NULL;
			gint _tmp47_ = 0;
			gint _tmp48_ = 0;
			gint _tmp49_ = 0;
			gint _tmp50_ = 0;
			_tmp46_ = cr;
			_tmp47_ = p1_x;
			_tmp48_ = elektro_sim_component_get_width ((ElektroSimComponent*) self);
			_tmp49_ = _tmp48_;
			_tmp50_ = p1_y;
			cairo_move_to (_tmp46_, (gdouble) (_tmp47_ - _tmp49_), (gdouble) (_tmp50_ - 5));
		} else {
			ElektroSimComponentOrientation _tmp51_ = 0;
			ElektroSimComponentOrientation _tmp52_ = 0;
			_tmp51_ = elektro_sim_component_get_orientation ((ElektroSimComponent*) self);
			_tmp52_ = _tmp51_;
			if (_tmp52_ == ELEKTRO_SIM_COMPONENT_ORIENTATION_UP) {
				cairo_t* _tmp53_ = NULL;
				gint _tmp54_ = 0;
				gint _tmp55_ = 0;
				gint _tmp56_ = 0;
				gint _tmp57_ = 0;
				_tmp53_ = cr;
				_tmp54_ = p1_x;
				_tmp55_ = p1_y;
				_tmp56_ = elektro_sim_component_get_width ((ElektroSimComponent*) self);
				_tmp57_ = _tmp56_;
				cairo_move_to (_tmp53_, (gdouble) (_tmp54_ + 5), _tmp55_ - (_tmp57_ * 0.8));
			} else {
				ElektroSimComponentOrientation _tmp58_ = 0;
				ElektroSimComponentOrientation _tmp59_ = 0;
				_tmp58_ = elektro_sim_component_get_orientation ((ElektroSimComponent*) self);
				_tmp59_ = _tmp58_;
				if (_tmp59_ == ELEKTRO_SIM_COMPONENT_ORIENTATION_DOWN) {
					cairo_t* _tmp60_ = NULL;
					gint _tmp61_ = 0;
					gint _tmp62_ = 0;
					gint _tmp63_ = 0;
					gint _tmp64_ = 0;
					_tmp60_ = cr;
					_tmp61_ = p1_x;
					_tmp62_ = p1_y;
					_tmp63_ = elektro_sim_component_get_width ((ElektroSimComponent*) self);
					_tmp64_ = _tmp63_;
					cairo_move_to (_tmp60_, (gdouble) (_tmp61_ + 5), _tmp62_ + (_tmp64_ * 0.9));
				}
			}
		}
	}
	_tmp65_ = cr;
	_tmp66_ = gtk_widget_get_name ((GtkWidget*) self);
	_tmp67_ = _tmp66_;
	cairo_text_path (_tmp65_, _tmp67_);
	_tmp68_ = cr;
	cairo_fill (_tmp68_);
}


static gpointer _g_object_ref0 (gpointer self) {
	return self ? g_object_ref (self) : NULL;
}


static void elektro_sim_power_source_reset_options (ElektroSimPowerSource* self) {
	GeeArrayList* _tmp16_ = NULL;
	g_return_if_fail (self != NULL);
	{
		GeeArrayList* _par_list = NULL;
		GeeArrayList* _tmp0_ = NULL;
		GeeArrayList* _tmp1_ = NULL;
		gint _par_size = 0;
		GeeArrayList* _tmp2_ = NULL;
		gint _tmp3_ = 0;
		gint _tmp4_ = 0;
		gint _par_index = 0;
		_tmp0_ = self->priv->optionsAdded;
		_tmp1_ = _g_object_ref0 (_tmp0_);
		_par_list = _tmp1_;
		_tmp2_ = _par_list;
		_tmp3_ = gee_abstract_collection_get_size ((GeeCollection*) _tmp2_);
		_tmp4_ = _tmp3_;
		_par_size = _tmp4_;
		_par_index = -1;
		while (TRUE) {
			gint _tmp5_ = 0;
			gint _tmp6_ = 0;
			gint _tmp7_ = 0;
			ElektroSimParameter* par = NULL;
			GeeArrayList* _tmp8_ = NULL;
			gint _tmp9_ = 0;
			gpointer _tmp10_ = NULL;
			GtkBox* _tmp11_ = NULL;
			GtkBox* _tmp12_ = NULL;
			ElektroSimParameter* _tmp13_ = NULL;
			GeeArrayList* _tmp14_ = NULL;
			ElektroSimParameter* _tmp15_ = NULL;
			_tmp5_ = _par_index;
			_par_index = _tmp5_ + 1;
			_tmp6_ = _par_index;
			_tmp7_ = _par_size;
			if (!(_tmp6_ < _tmp7_)) {
				break;
			}
			_tmp8_ = _par_list;
			_tmp9_ = _par_index;
			_tmp10_ = gee_abstract_list_get ((GeeAbstractList*) _tmp8_, _tmp9_);
			par = (ElektroSimParameter*) _tmp10_;
			_tmp11_ = elektro_sim_component_get_grid ((ElektroSimComponent*) self);
			_tmp12_ = _tmp11_;
			_tmp13_ = par;
			gtk_container_remove ((GtkContainer*) _tmp12_, G_TYPE_CHECK_INSTANCE_TYPE (_tmp13_, GTK_TYPE_WIDGET) ? ((GtkWidget*) _tmp13_) : NULL);
			_tmp14_ = ((ElektroSimComponent*) self)->parameters;
			_tmp15_ = par;
			gee_abstract_collection_remove ((GeeAbstractCollection*) _tmp14_, _tmp15_);
			_g_object_unref0 (par);
		}
		_g_object_unref0 (_par_list);
	}
	_tmp16_ = gee_array_list_new (ELEKTRO_SIM_TYPE_PARAMETER, (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL, NULL, NULL);
	_g_object_unref0 (self->priv->optionsAdded);
	self->priv->optionsAdded = _tmp16_;
	elektro_sim_power_source_reset_random_options (self);
}


static void elektro_sim_power_source_reset_random_options (ElektroSimPowerSource* self) {
	GeeArrayList* _tmp16_ = NULL;
	g_return_if_fail (self != NULL);
	{
		GeeArrayList* _par_list = NULL;
		GeeArrayList* _tmp0_ = NULL;
		GeeArrayList* _tmp1_ = NULL;
		gint _par_size = 0;
		GeeArrayList* _tmp2_ = NULL;
		gint _tmp3_ = 0;
		gint _tmp4_ = 0;
		gint _par_index = 0;
		_tmp0_ = self->priv->randomOptionsAdded;
		_tmp1_ = _g_object_ref0 (_tmp0_);
		_par_list = _tmp1_;
		_tmp2_ = _par_list;
		_tmp3_ = gee_abstract_collection_get_size ((GeeCollection*) _tmp2_);
		_tmp4_ = _tmp3_;
		_par_size = _tmp4_;
		_par_index = -1;
		while (TRUE) {
			gint _tmp5_ = 0;
			gint _tmp6_ = 0;
			gint _tmp7_ = 0;
			ElektroSimParameter* par = NULL;
			GeeArrayList* _tmp8_ = NULL;
			gint _tmp9_ = 0;
			gpointer _tmp10_ = NULL;
			GtkBox* _tmp11_ = NULL;
			GtkBox* _tmp12_ = NULL;
			ElektroSimParameter* _tmp13_ = NULL;
			GeeArrayList* _tmp14_ = NULL;
			ElektroSimParameter* _tmp15_ = NULL;
			_tmp5_ = _par_index;
			_par_index = _tmp5_ + 1;
			_tmp6_ = _par_index;
			_tmp7_ = _par_size;
			if (!(_tmp6_ < _tmp7_)) {
				break;
			}
			_tmp8_ = _par_list;
			_tmp9_ = _par_index;
			_tmp10_ = gee_abstract_list_get ((GeeAbstractList*) _tmp8_, _tmp9_);
			par = (ElektroSimParameter*) _tmp10_;
			_tmp11_ = elektro_sim_component_get_grid ((ElektroSimComponent*) self);
			_tmp12_ = _tmp11_;
			_tmp13_ = par;
			gtk_container_remove ((GtkContainer*) _tmp12_, G_TYPE_CHECK_INSTANCE_TYPE (_tmp13_, GTK_TYPE_WIDGET) ? ((GtkWidget*) _tmp13_) : NULL);
			_tmp14_ = ((ElektroSimComponent*) self)->parameters;
			_tmp15_ = par;
			gee_abstract_collection_remove ((GeeAbstractCollection*) _tmp14_, _tmp15_);
			_g_object_unref0 (par);
		}
		_g_object_unref0 (_par_list);
	}
	_tmp16_ = gee_array_list_new (ELEKTRO_SIM_TYPE_PARAMETER, (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL, NULL, NULL);
	_g_object_unref0 (self->priv->randomOptionsAdded);
	self->priv->randomOptionsAdded = _tmp16_;
}


static void elektro_sim_power_source_change_random_type (ElektroSimPowerSource* self, gint option) {
	gint _tmp0_ = 0;
	ElektroSimParameter* _tmp1_ = NULL;
	ElektroSimParameter* _tmp2_ = NULL;
	gint _tmp3_ = 0;
	gint _tmp4_ = 0;
	g_return_if_fail (self != NULL);
	_tmp0_ = option;
	g_print ("change to subtype '%i'\n", _tmp0_);
	elektro_sim_power_source_reset_random_options (self);
	_tmp1_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "random type");
	_tmp2_ = _tmp1_;
	_tmp3_ = option;
	elektro_sim_parameter_set_val (_tmp2_, (gdouble) _tmp3_);
	_g_object_unref0 (_tmp2_);
	_tmp4_ = option;
	switch (_tmp4_) {
		case ELEKTRO_SIM_POWER_SOURCE_RANDOM_TYPE_UNIFORM:
		{
			ElektroSimParameter* range = NULL;
			GeeArrayList* _tmp5_ = NULL;
			GeeArrayList* _tmp6_ = NULL;
			ElektroSimParameter* _tmp7_ = NULL;
			ElektroSimParameter* _tmp8_ = NULL;
			ElektroSimParameter* offset = NULL;
			GeeArrayList* _tmp9_ = NULL;
			GeeArrayList* _tmp10_ = NULL;
			ElektroSimParameter* _tmp11_ = NULL;
			ElektroSimParameter* _tmp12_ = NULL;
			GeeArrayList* _tmp13_ = NULL;
			ElektroSimParameter* _tmp14_ = NULL;
			GeeArrayList* _tmp15_ = NULL;
			ElektroSimParameter* _tmp16_ = NULL;
			_tmp5_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp6_ = _tmp5_;
			_tmp7_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "range", (gdouble) 1, "V", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp6_);
			_tmp8_ = _tmp7_;
			_g_object_unref0 (_tmp6_);
			range = _tmp8_;
			_tmp9_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp10_ = _tmp9_;
			_tmp11_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "offset", (gdouble) 0, "V", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp10_);
			_tmp12_ = _tmp11_;
			_g_object_unref0 (_tmp10_);
			offset = _tmp12_;
			_tmp13_ = self->priv->randomOptionsAdded;
			_tmp14_ = range;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp13_, _tmp14_);
			_tmp15_ = self->priv->randomOptionsAdded;
			_tmp16_ = offset;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp15_, _tmp16_);
			_g_object_unref0 (offset);
			_g_object_unref0 (range);
			break;
		}
		case ELEKTRO_SIM_POWER_SOURCE_RANDOM_TYPE_GAUSSIAN:
		{
			ElektroSimParameter* standardDev = NULL;
			GeeArrayList* _tmp17_ = NULL;
			GeeArrayList* _tmp18_ = NULL;
			ElektroSimParameter* _tmp19_ = NULL;
			ElektroSimParameter* _tmp20_ = NULL;
			ElektroSimParameter* mean = NULL;
			GeeArrayList* _tmp21_ = NULL;
			GeeArrayList* _tmp22_ = NULL;
			ElektroSimParameter* _tmp23_ = NULL;
			ElektroSimParameter* _tmp24_ = NULL;
			GeeArrayList* _tmp25_ = NULL;
			ElektroSimParameter* _tmp26_ = NULL;
			GeeArrayList* _tmp27_ = NULL;
			ElektroSimParameter* _tmp28_ = NULL;
			_tmp17_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp18_ = _tmp17_;
			_tmp19_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "standard dev", (gdouble) 1, "", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp18_);
			_tmp20_ = _tmp19_;
			_g_object_unref0 (_tmp18_);
			standardDev = _tmp20_;
			_tmp21_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp22_ = _tmp21_;
			_tmp23_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "mean", (gdouble) 0, "V", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp22_);
			_tmp24_ = _tmp23_;
			_g_object_unref0 (_tmp22_);
			mean = _tmp24_;
			_tmp25_ = self->priv->randomOptionsAdded;
			_tmp26_ = standardDev;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp25_, _tmp26_);
			_tmp27_ = self->priv->randomOptionsAdded;
			_tmp28_ = mean;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp27_, _tmp28_);
			_g_object_unref0 (mean);
			_g_object_unref0 (standardDev);
			break;
		}
		case ELEKTRO_SIM_POWER_SOURCE_RANDOM_TYPE_EXPONENTIAL:
		{
			ElektroSimParameter* mean = NULL;
			GeeArrayList* _tmp29_ = NULL;
			GeeArrayList* _tmp30_ = NULL;
			ElektroSimParameter* _tmp31_ = NULL;
			ElektroSimParameter* _tmp32_ = NULL;
			ElektroSimParameter* offset = NULL;
			GeeArrayList* _tmp33_ = NULL;
			GeeArrayList* _tmp34_ = NULL;
			ElektroSimParameter* _tmp35_ = NULL;
			ElektroSimParameter* _tmp36_ = NULL;
			GeeArrayList* _tmp37_ = NULL;
			ElektroSimParameter* _tmp38_ = NULL;
			GeeArrayList* _tmp39_ = NULL;
			ElektroSimParameter* _tmp40_ = NULL;
			_tmp29_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp30_ = _tmp29_;
			_tmp31_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "mean", (gdouble) 1, "", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp30_);
			_tmp32_ = _tmp31_;
			_g_object_unref0 (_tmp30_);
			mean = _tmp32_;
			_tmp33_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp34_ = _tmp33_;
			_tmp35_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "offset", (gdouble) 0, "V", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp34_);
			_tmp36_ = _tmp35_;
			_g_object_unref0 (_tmp34_);
			offset = _tmp36_;
			_tmp37_ = self->priv->randomOptionsAdded;
			_tmp38_ = mean;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp37_, _tmp38_);
			_tmp39_ = self->priv->randomOptionsAdded;
			_tmp40_ = offset;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp39_, _tmp40_);
			_g_object_unref0 (offset);
			_g_object_unref0 (mean);
			break;
		}
		case ELEKTRO_SIM_POWER_SOURCE_RANDOM_TYPE_POISSON:
		{
			ElektroSimParameter* lambda = NULL;
			GeeArrayList* _tmp41_ = NULL;
			GeeArrayList* _tmp42_ = NULL;
			ElektroSimParameter* _tmp43_ = NULL;
			ElektroSimParameter* _tmp44_ = NULL;
			ElektroSimParameter* offset = NULL;
			GeeArrayList* _tmp45_ = NULL;
			GeeArrayList* _tmp46_ = NULL;
			ElektroSimParameter* _tmp47_ = NULL;
			ElektroSimParameter* _tmp48_ = NULL;
			GeeArrayList* _tmp49_ = NULL;
			ElektroSimParameter* _tmp50_ = NULL;
			GeeArrayList* _tmp51_ = NULL;
			ElektroSimParameter* _tmp52_ = NULL;
			_tmp41_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp42_ = _tmp41_;
			_tmp43_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "lambda", (gdouble) 1, "", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp42_);
			_tmp44_ = _tmp43_;
			_g_object_unref0 (_tmp42_);
			lambda = _tmp44_;
			_tmp45_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp46_ = _tmp45_;
			_tmp47_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "offset", (gdouble) 0, "V", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp46_);
			_tmp48_ = _tmp47_;
			_g_object_unref0 (_tmp46_);
			offset = _tmp48_;
			_tmp49_ = self->priv->randomOptionsAdded;
			_tmp50_ = lambda;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp49_, _tmp50_);
			_tmp51_ = self->priv->randomOptionsAdded;
			_tmp52_ = offset;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp51_, _tmp52_);
			_g_object_unref0 (offset);
			_g_object_unref0 (lambda);
			break;
		}
		default:
		break;
	}
	elektro_sim_component_set_mode ((ElektroSimComponent*) self, ELEKTRO_SIM_COMPONENT_LIST_MODE_EDIT);
	gtk_widget_show_all ((GtkWidget*) self);
}


static gdouble double_parse (const gchar* str) {
	gdouble result = 0.0;
	const gchar* _tmp0_ = NULL;
	gdouble _tmp1_ = 0.0;
	g_return_val_if_fail (str != NULL, 0.0);
	_tmp0_ = str;
	_tmp1_ = g_ascii_strtod (_tmp0_, NULL);
	result = _tmp1_;
	return result;
}


static void _elektro_sim_power_source_change_random_type_elektro_sim_parameter_options_method (gint option, gpointer self) {
	elektro_sim_power_source_change_random_type ((ElektroSimPowerSource*) self, option);
}


void elektro_sim_power_source_change_type (ElektroSimPowerSource* self, gint option) {
	gint _tmp0_ = 0;
	gchar* _tmp1_ = NULL;
	gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	gchar* _tmp4_ = NULL;
	ElektroSimParameter* _tmp5_ = NULL;
	ElektroSimParameter* _tmp6_ = NULL;
	gint _tmp7_ = 0;
	gint _tmp8_ = 0;
	g_return_if_fail (self != NULL);
	_tmp0_ = option;
	_tmp1_ = g_strdup_printf ("%i", _tmp0_);
	_tmp2_ = _tmp1_;
	_tmp3_ = g_strconcat ("change to type ", _tmp2_, NULL);
	_tmp4_ = _tmp3_;
	elektro_sim_debug (_tmp4_);
	_g_free0 (_tmp4_);
	_g_free0 (_tmp2_);
	elektro_sim_power_source_reset_options (self);
	_tmp5_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "type");
	_tmp6_ = _tmp5_;
	_tmp7_ = option;
	elektro_sim_parameter_set_val (_tmp6_, (gdouble) _tmp7_);
	_g_object_unref0 (_tmp6_);
	_tmp8_ = option;
	switch (_tmp8_) {
		case ELEKTRO_SIM_POWER_SOURCE_TYPE_DC:
		{
			ElektroSimParameter* voltage = NULL;
			GeeArrayList* _tmp9_ = NULL;
			GeeArrayList* _tmp10_ = NULL;
			ElektroSimParameter* _tmp11_ = NULL;
			ElektroSimParameter* _tmp12_ = NULL;
			GeeArrayList* _tmp13_ = NULL;
			ElektroSimParameter* _tmp14_ = NULL;
			_tmp9_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp10_ = _tmp9_;
			_tmp11_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "voltage", (gdouble) 1, "V", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp10_);
			_tmp12_ = _tmp11_;
			_g_object_unref0 (_tmp10_);
			voltage = _tmp12_;
			_tmp13_ = self->priv->optionsAdded;
			_tmp14_ = voltage;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp13_, _tmp14_);
			_g_object_unref0 (voltage);
			break;
		}
		case ELEKTRO_SIM_POWER_SOURCE_TYPE_DCAC:
		{
			ElektroSimParameter* dcVoltage = NULL;
			GeeArrayList* _tmp15_ = NULL;
			GeeArrayList* _tmp16_ = NULL;
			ElektroSimParameter* _tmp17_ = NULL;
			ElektroSimParameter* _tmp18_ = NULL;
			ElektroSimParameter* acVoltage = NULL;
			GeeArrayList* _tmp19_ = NULL;
			GeeArrayList* _tmp20_ = NULL;
			ElektroSimParameter* _tmp21_ = NULL;
			ElektroSimParameter* _tmp22_ = NULL;
			GeeArrayList* _tmp23_ = NULL;
			ElektroSimParameter* _tmp24_ = NULL;
			GeeArrayList* _tmp25_ = NULL;
			ElektroSimParameter* _tmp26_ = NULL;
			_tmp15_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp16_ = _tmp15_;
			_tmp17_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "dc voltage", (gdouble) 1, "V", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp16_);
			_tmp18_ = _tmp17_;
			_g_object_unref0 (_tmp16_);
			dcVoltage = _tmp18_;
			_tmp19_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp20_ = _tmp19_;
			_tmp21_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "ac voltage", (gdouble) 1, "V", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp20_);
			_tmp22_ = _tmp21_;
			_g_object_unref0 (_tmp20_);
			acVoltage = _tmp22_;
			_tmp23_ = self->priv->optionsAdded;
			_tmp24_ = dcVoltage;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp23_, _tmp24_);
			_tmp25_ = self->priv->optionsAdded;
			_tmp26_ = acVoltage;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp25_, _tmp26_);
			_g_object_unref0 (acVoltage);
			_g_object_unref0 (dcVoltage);
			break;
		}
		case ELEKTRO_SIM_POWER_SOURCE_TYPE_SINUS:
		{
			ElektroSimParameter* step = NULL;
			GeeArrayList* _tmp27_ = NULL;
			GeeArrayList* _tmp28_ = NULL;
			ElektroSimParameter* _tmp29_ = NULL;
			ElektroSimParameter* _tmp30_ = NULL;
			ElektroSimParameter* amplitude = NULL;
			GeeArrayList* _tmp31_ = NULL;
			GeeArrayList* _tmp32_ = NULL;
			ElektroSimParameter* _tmp33_ = NULL;
			ElektroSimParameter* _tmp34_ = NULL;
			ElektroSimParameter* frequency = NULL;
			GeeArrayList* _tmp35_ = NULL;
			GeeArrayList* _tmp36_ = NULL;
			ElektroSimParameter* _tmp37_ = NULL;
			ElektroSimParameter* _tmp38_ = NULL;
			ElektroSimParameter* delay = NULL;
			GeeArrayList* _tmp39_ = NULL;
			GeeArrayList* _tmp40_ = NULL;
			ElektroSimParameter* _tmp41_ = NULL;
			ElektroSimParameter* _tmp42_ = NULL;
			ElektroSimParameter* damping = NULL;
			GeeArrayList* _tmp43_ = NULL;
			GeeArrayList* _tmp44_ = NULL;
			ElektroSimParameter* _tmp45_ = NULL;
			ElektroSimParameter* _tmp46_ = NULL;
			GeeArrayList* _tmp47_ = NULL;
			ElektroSimParameter* _tmp48_ = NULL;
			GeeArrayList* _tmp49_ = NULL;
			ElektroSimParameter* _tmp50_ = NULL;
			GeeArrayList* _tmp51_ = NULL;
			ElektroSimParameter* _tmp52_ = NULL;
			GeeArrayList* _tmp53_ = NULL;
			ElektroSimParameter* _tmp54_ = NULL;
			GeeArrayList* _tmp55_ = NULL;
			ElektroSimParameter* _tmp56_ = NULL;
			_tmp27_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp28_ = _tmp27_;
			_tmp29_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "offset", (gdouble) 0, "V", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp28_);
			_tmp30_ = _tmp29_;
			_g_object_unref0 (_tmp28_);
			step = _tmp30_;
			_tmp31_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp32_ = _tmp31_;
			_tmp33_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "amplitude", (gdouble) 1, "V", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp32_);
			_tmp34_ = _tmp33_;
			_g_object_unref0 (_tmp32_);
			amplitude = _tmp34_;
			_tmp35_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp36_ = _tmp35_;
			_tmp37_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "frequency", (gdouble) 10, "Hz", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp36_);
			_tmp38_ = _tmp37_;
			_g_object_unref0 (_tmp36_);
			frequency = _tmp38_;
			_tmp39_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp40_ = _tmp39_;
			_tmp41_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "delay", (gdouble) 0, "s", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp40_);
			_tmp42_ = _tmp41_;
			_g_object_unref0 (_tmp40_);
			delay = _tmp42_;
			_tmp43_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp44_ = _tmp43_;
			_tmp45_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "damping", (gdouble) 0, "", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp44_);
			_tmp46_ = _tmp45_;
			_g_object_unref0 (_tmp44_);
			damping = _tmp46_;
			_tmp47_ = self->priv->optionsAdded;
			_tmp48_ = step;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp47_, _tmp48_);
			_tmp49_ = self->priv->optionsAdded;
			_tmp50_ = amplitude;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp49_, _tmp50_);
			_tmp51_ = self->priv->optionsAdded;
			_tmp52_ = frequency;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp51_, _tmp52_);
			_tmp53_ = self->priv->optionsAdded;
			_tmp54_ = delay;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp53_, _tmp54_);
			_tmp55_ = self->priv->optionsAdded;
			_tmp56_ = damping;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp55_, _tmp56_);
			_g_object_unref0 (damping);
			_g_object_unref0 (delay);
			_g_object_unref0 (frequency);
			_g_object_unref0 (amplitude);
			_g_object_unref0 (step);
			break;
		}
		case ELEKTRO_SIM_POWER_SOURCE_TYPE_PULSE:
		{
			ElektroSimParameter* initial = NULL;
			GeeArrayList* _tmp57_ = NULL;
			GeeArrayList* _tmp58_ = NULL;
			ElektroSimParameter* _tmp59_ = NULL;
			ElektroSimParameter* _tmp60_ = NULL;
			ElektroSimParameter* pulsed = NULL;
			GeeArrayList* _tmp61_ = NULL;
			GeeArrayList* _tmp62_ = NULL;
			ElektroSimParameter* _tmp63_ = NULL;
			ElektroSimParameter* _tmp64_ = NULL;
			ElektroSimParameter* delay = NULL;
			gdouble _tmp65_ = 0.0;
			GeeArrayList* _tmp66_ = NULL;
			GeeArrayList* _tmp67_ = NULL;
			ElektroSimParameter* _tmp68_ = NULL;
			ElektroSimParameter* _tmp69_ = NULL;
			ElektroSimParameter* rise = NULL;
			gdouble _tmp70_ = 0.0;
			GeeArrayList* _tmp71_ = NULL;
			GeeArrayList* _tmp72_ = NULL;
			ElektroSimParameter* _tmp73_ = NULL;
			ElektroSimParameter* _tmp74_ = NULL;
			ElektroSimParameter* fall = NULL;
			gdouble _tmp75_ = 0.0;
			GeeArrayList* _tmp76_ = NULL;
			GeeArrayList* _tmp77_ = NULL;
			ElektroSimParameter* _tmp78_ = NULL;
			ElektroSimParameter* _tmp79_ = NULL;
			ElektroSimParameter* pulse = NULL;
			gdouble _tmp80_ = 0.0;
			GeeArrayList* _tmp81_ = NULL;
			GeeArrayList* _tmp82_ = NULL;
			ElektroSimParameter* _tmp83_ = NULL;
			ElektroSimParameter* _tmp84_ = NULL;
			ElektroSimParameter* period = NULL;
			gdouble _tmp85_ = 0.0;
			GeeArrayList* _tmp86_ = NULL;
			GeeArrayList* _tmp87_ = NULL;
			ElektroSimParameter* _tmp88_ = NULL;
			ElektroSimParameter* _tmp89_ = NULL;
			GeeArrayList* _tmp90_ = NULL;
			ElektroSimParameter* _tmp91_ = NULL;
			GeeArrayList* _tmp92_ = NULL;
			ElektroSimParameter* _tmp93_ = NULL;
			GeeArrayList* _tmp94_ = NULL;
			ElektroSimParameter* _tmp95_ = NULL;
			GeeArrayList* _tmp96_ = NULL;
			ElektroSimParameter* _tmp97_ = NULL;
			GeeArrayList* _tmp98_ = NULL;
			ElektroSimParameter* _tmp99_ = NULL;
			GeeArrayList* _tmp100_ = NULL;
			ElektroSimParameter* _tmp101_ = NULL;
			GeeArrayList* _tmp102_ = NULL;
			ElektroSimParameter* _tmp103_ = NULL;
			_tmp57_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp58_ = _tmp57_;
			_tmp59_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "initial value", (gdouble) (-1), "V", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp58_);
			_tmp60_ = _tmp59_;
			_g_object_unref0 (_tmp58_);
			initial = _tmp60_;
			_tmp61_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp62_ = _tmp61_;
			_tmp63_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "pulsed value", (gdouble) 1, "V", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp62_);
			_tmp64_ = _tmp63_;
			_g_object_unref0 (_tmp62_);
			pulsed = _tmp64_;
			_tmp65_ = double_parse ("2e-9");
			_tmp66_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp67_ = _tmp66_;
			_tmp68_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "delay", _tmp65_, "s", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp67_);
			_tmp69_ = _tmp68_;
			_g_object_unref0 (_tmp67_);
			delay = _tmp69_;
			_tmp70_ = double_parse ("2e-9");
			_tmp71_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp72_ = _tmp71_;
			_tmp73_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "rise", _tmp70_, "s", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp72_);
			_tmp74_ = _tmp73_;
			_g_object_unref0 (_tmp72_);
			rise = _tmp74_;
			_tmp75_ = double_parse ("2e-9");
			_tmp76_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp77_ = _tmp76_;
			_tmp78_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "fall", _tmp75_, "s", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp77_);
			_tmp79_ = _tmp78_;
			_g_object_unref0 (_tmp77_);
			fall = _tmp79_;
			_tmp80_ = double_parse ("50e-9");
			_tmp81_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp82_ = _tmp81_;
			_tmp83_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "pulse width", _tmp80_, "s", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp82_);
			_tmp84_ = _tmp83_;
			_g_object_unref0 (_tmp82_);
			pulse = _tmp84_;
			_tmp85_ = double_parse ("100e-9");
			_tmp86_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp87_ = _tmp86_;
			_tmp88_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "period", _tmp85_, "s", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp87_);
			_tmp89_ = _tmp88_;
			_g_object_unref0 (_tmp87_);
			period = _tmp89_;
			_tmp90_ = self->priv->optionsAdded;
			_tmp91_ = initial;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp90_, _tmp91_);
			_tmp92_ = self->priv->optionsAdded;
			_tmp93_ = pulsed;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp92_, _tmp93_);
			_tmp94_ = self->priv->optionsAdded;
			_tmp95_ = delay;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp94_, _tmp95_);
			_tmp96_ = self->priv->optionsAdded;
			_tmp97_ = rise;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp96_, _tmp97_);
			_tmp98_ = self->priv->optionsAdded;
			_tmp99_ = fall;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp98_, _tmp99_);
			_tmp100_ = self->priv->optionsAdded;
			_tmp101_ = pulse;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp100_, _tmp101_);
			_tmp102_ = self->priv->optionsAdded;
			_tmp103_ = period;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp102_, _tmp103_);
			_g_object_unref0 (period);
			_g_object_unref0 (pulse);
			_g_object_unref0 (fall);
			_g_object_unref0 (rise);
			_g_object_unref0 (delay);
			_g_object_unref0 (pulsed);
			_g_object_unref0 (initial);
			break;
		}
		case ELEKTRO_SIM_POWER_SOURCE_TYPE_EXPO:
		{
			ElektroSimParameter* initial = NULL;
			GeeArrayList* _tmp104_ = NULL;
			GeeArrayList* _tmp105_ = NULL;
			ElektroSimParameter* _tmp106_ = NULL;
			ElektroSimParameter* _tmp107_ = NULL;
			ElektroSimParameter* pulsed = NULL;
			GeeArrayList* _tmp108_ = NULL;
			GeeArrayList* _tmp109_ = NULL;
			ElektroSimParameter* _tmp110_ = NULL;
			ElektroSimParameter* _tmp111_ = NULL;
			ElektroSimParameter* riseDelay = NULL;
			gdouble _tmp112_ = 0.0;
			GeeArrayList* _tmp113_ = NULL;
			GeeArrayList* _tmp114_ = NULL;
			ElektroSimParameter* _tmp115_ = NULL;
			ElektroSimParameter* _tmp116_ = NULL;
			ElektroSimParameter* riseConstant = NULL;
			gdouble _tmp117_ = 0.0;
			GeeArrayList* _tmp118_ = NULL;
			GeeArrayList* _tmp119_ = NULL;
			ElektroSimParameter* _tmp120_ = NULL;
			ElektroSimParameter* _tmp121_ = NULL;
			ElektroSimParameter* fallDelay = NULL;
			gdouble _tmp122_ = 0.0;
			GeeArrayList* _tmp123_ = NULL;
			GeeArrayList* _tmp124_ = NULL;
			ElektroSimParameter* _tmp125_ = NULL;
			ElektroSimParameter* _tmp126_ = NULL;
			ElektroSimParameter* fallConstant = NULL;
			gdouble _tmp127_ = 0.0;
			GeeArrayList* _tmp128_ = NULL;
			GeeArrayList* _tmp129_ = NULL;
			ElektroSimParameter* _tmp130_ = NULL;
			ElektroSimParameter* _tmp131_ = NULL;
			GeeArrayList* _tmp132_ = NULL;
			ElektroSimParameter* _tmp133_ = NULL;
			GeeArrayList* _tmp134_ = NULL;
			ElektroSimParameter* _tmp135_ = NULL;
			GeeArrayList* _tmp136_ = NULL;
			ElektroSimParameter* _tmp137_ = NULL;
			GeeArrayList* _tmp138_ = NULL;
			ElektroSimParameter* _tmp139_ = NULL;
			GeeArrayList* _tmp140_ = NULL;
			ElektroSimParameter* _tmp141_ = NULL;
			GeeArrayList* _tmp142_ = NULL;
			ElektroSimParameter* _tmp143_ = NULL;
			_tmp104_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp105_ = _tmp104_;
			_tmp106_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "initial value", (gdouble) (-4), "V", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp105_);
			_tmp107_ = _tmp106_;
			_g_object_unref0 (_tmp105_);
			initial = _tmp107_;
			_tmp108_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp109_ = _tmp108_;
			_tmp110_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "pulsed value", (gdouble) (-1), "V", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp109_);
			_tmp111_ = _tmp110_;
			_g_object_unref0 (_tmp109_);
			pulsed = _tmp111_;
			_tmp112_ = double_parse ("2e-9");
			_tmp113_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp114_ = _tmp113_;
			_tmp115_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "rise delay", _tmp112_, "s", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp114_);
			_tmp116_ = _tmp115_;
			_g_object_unref0 (_tmp114_);
			riseDelay = _tmp116_;
			_tmp117_ = double_parse ("30e-9");
			_tmp118_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp119_ = _tmp118_;
			_tmp120_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "rise", _tmp117_, "s", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp119_);
			_tmp121_ = _tmp120_;
			_g_object_unref0 (_tmp119_);
			riseConstant = _tmp121_;
			_tmp122_ = double_parse ("60e-9");
			_tmp123_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp124_ = _tmp123_;
			_tmp125_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "fall delay", _tmp122_, "s", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp124_);
			_tmp126_ = _tmp125_;
			_g_object_unref0 (_tmp124_);
			fallDelay = _tmp126_;
			_tmp127_ = double_parse ("40e-9");
			_tmp128_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp129_ = _tmp128_;
			_tmp130_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "fall", _tmp127_, "s", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp129_);
			_tmp131_ = _tmp130_;
			_g_object_unref0 (_tmp129_);
			fallConstant = _tmp131_;
			_tmp132_ = self->priv->optionsAdded;
			_tmp133_ = initial;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp132_, _tmp133_);
			_tmp134_ = self->priv->optionsAdded;
			_tmp135_ = pulsed;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp134_, _tmp135_);
			_tmp136_ = self->priv->optionsAdded;
			_tmp137_ = riseDelay;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp136_, _tmp137_);
			_tmp138_ = self->priv->optionsAdded;
			_tmp139_ = riseConstant;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp138_, _tmp139_);
			_tmp140_ = self->priv->optionsAdded;
			_tmp141_ = fallDelay;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp140_, _tmp141_);
			_tmp142_ = self->priv->optionsAdded;
			_tmp143_ = fallConstant;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp142_, _tmp143_);
			_g_object_unref0 (fallConstant);
			_g_object_unref0 (fallDelay);
			_g_object_unref0 (riseConstant);
			_g_object_unref0 (riseDelay);
			_g_object_unref0 (pulsed);
			_g_object_unref0 (initial);
			break;
		}
		case ELEKTRO_SIM_POWER_SOURCE_TYPE_SFFM:
		{
			ElektroSimParameter* offset = NULL;
			GeeArrayList* _tmp144_ = NULL;
			GeeArrayList* _tmp145_ = NULL;
			ElektroSimParameter* _tmp146_ = NULL;
			ElektroSimParameter* _tmp147_ = NULL;
			ElektroSimParameter* amplitude = NULL;
			gdouble _tmp148_ = 0.0;
			GeeArrayList* _tmp149_ = NULL;
			GeeArrayList* _tmp150_ = NULL;
			ElektroSimParameter* _tmp151_ = NULL;
			ElektroSimParameter* _tmp152_ = NULL;
			ElektroSimParameter* carrierFreq = NULL;
			gdouble _tmp153_ = 0.0;
			GeeArrayList* _tmp154_ = NULL;
			GeeArrayList* _tmp155_ = NULL;
			ElektroSimParameter* _tmp156_ = NULL;
			ElektroSimParameter* _tmp157_ = NULL;
			ElektroSimParameter* modulationIndex = NULL;
			gdouble _tmp158_ = 0.0;
			GeeArrayList* _tmp159_ = NULL;
			GeeArrayList* _tmp160_ = NULL;
			ElektroSimParameter* _tmp161_ = NULL;
			ElektroSimParameter* _tmp162_ = NULL;
			ElektroSimParameter* signalFreq = NULL;
			gdouble _tmp163_ = 0.0;
			GeeArrayList* _tmp164_ = NULL;
			GeeArrayList* _tmp165_ = NULL;
			ElektroSimParameter* _tmp166_ = NULL;
			ElektroSimParameter* _tmp167_ = NULL;
			GeeArrayList* _tmp168_ = NULL;
			ElektroSimParameter* _tmp169_ = NULL;
			GeeArrayList* _tmp170_ = NULL;
			ElektroSimParameter* _tmp171_ = NULL;
			GeeArrayList* _tmp172_ = NULL;
			ElektroSimParameter* _tmp173_ = NULL;
			GeeArrayList* _tmp174_ = NULL;
			ElektroSimParameter* _tmp175_ = NULL;
			GeeArrayList* _tmp176_ = NULL;
			ElektroSimParameter* _tmp177_ = NULL;
			_tmp144_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp145_ = _tmp144_;
			_tmp146_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "offset", (gdouble) 0, "V", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp145_);
			_tmp147_ = _tmp146_;
			_g_object_unref0 (_tmp145_);
			offset = _tmp147_;
			_tmp148_ = double_parse ("1e6");
			_tmp149_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp150_ = _tmp149_;
			_tmp151_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "amplitude", _tmp148_, "V", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp150_);
			_tmp152_ = _tmp151_;
			_g_object_unref0 (_tmp150_);
			amplitude = _tmp152_;
			_tmp153_ = double_parse ("20e3");
			_tmp154_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp155_ = _tmp154_;
			_tmp156_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "carrier freq", _tmp153_, "Hz", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp155_);
			_tmp157_ = _tmp156_;
			_g_object_unref0 (_tmp155_);
			carrierFreq = _tmp157_;
			_tmp158_ = double_parse ("5");
			_tmp159_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp160_ = _tmp159_;
			_tmp161_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "modulation index", _tmp158_, "", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp160_);
			_tmp162_ = _tmp161_;
			_g_object_unref0 (_tmp160_);
			modulationIndex = _tmp162_;
			_tmp163_ = double_parse ("1e3");
			_tmp164_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp165_ = _tmp164_;
			_tmp166_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "signal frequency", _tmp163_, "Hz", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp165_);
			_tmp167_ = _tmp166_;
			_g_object_unref0 (_tmp165_);
			signalFreq = _tmp167_;
			_tmp168_ = self->priv->optionsAdded;
			_tmp169_ = offset;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp168_, _tmp169_);
			_tmp170_ = self->priv->optionsAdded;
			_tmp171_ = amplitude;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp170_, _tmp171_);
			_tmp172_ = self->priv->optionsAdded;
			_tmp173_ = carrierFreq;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp172_, _tmp173_);
			_tmp174_ = self->priv->optionsAdded;
			_tmp175_ = modulationIndex;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp174_, _tmp175_);
			_tmp176_ = self->priv->optionsAdded;
			_tmp177_ = signalFreq;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp176_, _tmp177_);
			_g_object_unref0 (signalFreq);
			_g_object_unref0 (modulationIndex);
			_g_object_unref0 (carrierFreq);
			_g_object_unref0 (amplitude);
			_g_object_unref0 (offset);
			break;
		}
		case ELEKTRO_SIM_POWER_SOURCE_TYPE_AM:
		{
			ElektroSimParameter* amplitude = NULL;
			GeeArrayList* _tmp178_ = NULL;
			GeeArrayList* _tmp179_ = NULL;
			ElektroSimParameter* _tmp180_ = NULL;
			ElektroSimParameter* _tmp181_ = NULL;
			ElektroSimParameter* offset = NULL;
			GeeArrayList* _tmp182_ = NULL;
			GeeArrayList* _tmp183_ = NULL;
			ElektroSimParameter* _tmp184_ = NULL;
			ElektroSimParameter* _tmp185_ = NULL;
			ElektroSimParameter* modulatingFreq = NULL;
			gdouble _tmp186_ = 0.0;
			GeeArrayList* _tmp187_ = NULL;
			GeeArrayList* _tmp188_ = NULL;
			ElektroSimParameter* _tmp189_ = NULL;
			ElektroSimParameter* _tmp190_ = NULL;
			ElektroSimParameter* carrierFreq = NULL;
			gdouble _tmp191_ = 0.0;
			GeeArrayList* _tmp192_ = NULL;
			GeeArrayList* _tmp193_ = NULL;
			ElektroSimParameter* _tmp194_ = NULL;
			ElektroSimParameter* _tmp195_ = NULL;
			ElektroSimParameter* signalDelay = NULL;
			gdouble _tmp196_ = 0.0;
			GeeArrayList* _tmp197_ = NULL;
			GeeArrayList* _tmp198_ = NULL;
			ElektroSimParameter* _tmp199_ = NULL;
			ElektroSimParameter* _tmp200_ = NULL;
			GeeArrayList* _tmp201_ = NULL;
			ElektroSimParameter* _tmp202_ = NULL;
			GeeArrayList* _tmp203_ = NULL;
			ElektroSimParameter* _tmp204_ = NULL;
			GeeArrayList* _tmp205_ = NULL;
			ElektroSimParameter* _tmp206_ = NULL;
			GeeArrayList* _tmp207_ = NULL;
			ElektroSimParameter* _tmp208_ = NULL;
			GeeArrayList* _tmp209_ = NULL;
			ElektroSimParameter* _tmp210_ = NULL;
			_tmp178_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp179_ = _tmp178_;
			_tmp180_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "amplitude", 0.5, "V", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp179_);
			_tmp181_ = _tmp180_;
			_g_object_unref0 (_tmp179_);
			amplitude = _tmp181_;
			_tmp182_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp183_ = _tmp182_;
			_tmp184_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "offset", (gdouble) 1, "V", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp183_);
			_tmp185_ = _tmp184_;
			_g_object_unref0 (_tmp183_);
			offset = _tmp185_;
			_tmp186_ = double_parse ("20e3");
			_tmp187_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp188_ = _tmp187_;
			_tmp189_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "modulating freq", _tmp186_, "Hz", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp188_);
			_tmp190_ = _tmp189_;
			_g_object_unref0 (_tmp188_);
			modulatingFreq = _tmp190_;
			_tmp191_ = double_parse ("1e9");
			_tmp192_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp193_ = _tmp192_;
			_tmp194_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "carrier freq", _tmp191_, "Hz", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp193_);
			_tmp195_ = _tmp194_;
			_g_object_unref0 (_tmp193_);
			carrierFreq = _tmp195_;
			_tmp196_ = double_parse ("1e-3");
			_tmp197_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp198_ = _tmp197_;
			_tmp199_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "signal delay", _tmp196_, "s", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp198_);
			_tmp200_ = _tmp199_;
			_g_object_unref0 (_tmp198_);
			signalDelay = _tmp200_;
			_tmp201_ = self->priv->optionsAdded;
			_tmp202_ = amplitude;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp201_, _tmp202_);
			_tmp203_ = self->priv->optionsAdded;
			_tmp204_ = offset;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp203_, _tmp204_);
			_tmp205_ = self->priv->optionsAdded;
			_tmp206_ = modulatingFreq;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp205_, _tmp206_);
			_tmp207_ = self->priv->optionsAdded;
			_tmp208_ = carrierFreq;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp207_, _tmp208_);
			_tmp209_ = self->priv->optionsAdded;
			_tmp210_ = signalDelay;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp209_, _tmp210_);
			_g_object_unref0 (signalDelay);
			_g_object_unref0 (carrierFreq);
			_g_object_unref0 (modulatingFreq);
			_g_object_unref0 (offset);
			_g_object_unref0 (amplitude);
			break;
		}
		case ELEKTRO_SIM_POWER_SOURCE_TYPE_RANDOM:
		{
			GeeArrayList* types = NULL;
			GeeArrayList* _tmp211_ = NULL;
			GeeArrayList* _tmp212_ = NULL;
			GeeArrayList* _tmp213_ = NULL;
			GeeArrayList* _tmp214_ = NULL;
			GeeArrayList* _tmp215_ = NULL;
			ElektroSimParameter* randomType = NULL;
			GeeArrayList* _tmp216_ = NULL;
			ElektroSimParameter* _tmp217_ = NULL;
			ElektroSimParameter* duration = NULL;
			gdouble _tmp218_ = 0.0;
			GeeArrayList* _tmp219_ = NULL;
			GeeArrayList* _tmp220_ = NULL;
			ElektroSimParameter* _tmp221_ = NULL;
			ElektroSimParameter* _tmp222_ = NULL;
			ElektroSimParameter* timeDelay = NULL;
			gdouble _tmp223_ = 0.0;
			GeeArrayList* _tmp224_ = NULL;
			GeeArrayList* _tmp225_ = NULL;
			ElektroSimParameter* _tmp226_ = NULL;
			ElektroSimParameter* _tmp227_ = NULL;
			GeeArrayList* _tmp228_ = NULL;
			ElektroSimParameter* _tmp229_ = NULL;
			GeeArrayList* _tmp230_ = NULL;
			ElektroSimParameter* _tmp231_ = NULL;
			GeeArrayList* _tmp232_ = NULL;
			ElektroSimParameter* _tmp233_ = NULL;
			ElektroSimParameter* _tmp234_ = NULL;
			_tmp211_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			types = _tmp211_;
			_tmp212_ = types;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp212_, "uniform");
			_tmp213_ = types;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp213_, "gaussian");
			_tmp214_ = types;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp214_, "exponential");
			_tmp215_ = types;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp215_, "poisson");
			_tmp216_ = types;
			_tmp217_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "random type", (gdouble) 0, "", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_OPTIONS, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_OPTIONS, _tmp216_);
			randomType = _tmp217_;
			_tmp218_ = double_parse ("10e-3");
			_tmp219_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp220_ = _tmp219_;
			_tmp221_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "duration", _tmp218_, "s", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp220_);
			_tmp222_ = _tmp221_;
			_g_object_unref0 (_tmp220_);
			duration = _tmp222_;
			_tmp223_ = double_parse ("0");
			_tmp224_ = gee_array_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
			_tmp225_ = _tmp224_;
			_tmp226_ = elektro_sim_component_add_parameter ((ElektroSimComponent*) self, "time delay", _tmp223_, "s", ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, ELEKTRO_SIM_PARAMETER_WIDGET_STYLE_SLIDER, _tmp225_);
			_tmp227_ = _tmp226_;
			_g_object_unref0 (_tmp225_);
			timeDelay = _tmp227_;
			_tmp228_ = self->priv->optionsAdded;
			_tmp229_ = randomType;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp228_, _tmp229_);
			_tmp230_ = self->priv->optionsAdded;
			_tmp231_ = duration;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp230_, _tmp231_);
			_tmp232_ = self->priv->optionsAdded;
			_tmp233_ = timeDelay;
			gee_abstract_collection_add ((GeeAbstractCollection*) _tmp232_, _tmp233_);
			_tmp234_ = randomType;
			elektro_sim_parameter_set_optionsMethod (_tmp234_, _elektro_sim_power_source_change_random_type_elektro_sim_parameter_options_method, self);
			elektro_sim_power_source_change_random_type (self, (gint) ELEKTRO_SIM_POWER_SOURCE_RANDOM_TYPE_UNIFORM);
			_g_object_unref0 (timeDelay);
			_g_object_unref0 (duration);
			_g_object_unref0 (randomType);
			_g_object_unref0 (types);
			break;
		}
		default:
		break;
	}
	elektro_sim_component_set_mode ((ElektroSimComponent*) self, ELEKTRO_SIM_COMPONENT_LIST_MODE_EDIT);
	gtk_widget_show_all ((GtkWidget*) self);
}


static void elektro_sim_power_source_real_clear_counter (ElektroSimComponent* base) {
	ElektroSimPowerSource * self;
	self = (ElektroSimPowerSource*) base;
	elektro_sim_power_source_counter = 0;
}


static ElektroSimComponent* elektro_sim_power_source_real_clone (ElektroSimComponent* base) {
	ElektroSimPowerSource * self;
	ElektroSimComponent* result = NULL;
	ElektroSimPowerSource* newc = NULL;
	ElektroSimParameter* _tmp0_ = NULL;
	ElektroSimParameter* _tmp1_ = NULL;
	gdouble _tmp2_ = 0.0;
	gdouble _tmp3_ = 0.0;
	ElektroSimPowerSource* _tmp4_ = NULL;
	ElektroSimPowerSource* _tmp5_ = NULL;
	gint _tmp6_ = 0;
	ElektroSimPowerSource* _tmp7_ = NULL;
	gint _tmp8_ = 0;
	gchar* _tmp9_ = NULL;
	gchar* _tmp10_ = NULL;
	gchar* _tmp11_ = NULL;
	gchar* _tmp12_ = NULL;
	ElektroSimPowerSource* _tmp13_ = NULL;
	self = (ElektroSimPowerSource*) base;
	_tmp0_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "type");
	_tmp1_ = _tmp0_;
	_tmp2_ = elektro_sim_parameter_get_val (_tmp1_);
	_tmp3_ = _tmp2_;
	_tmp4_ = elektro_sim_power_source_new ((gint) _tmp3_);
	g_object_ref_sink (_tmp4_);
	_tmp5_ = _tmp4_;
	_g_object_unref0 (_tmp1_);
	newc = _tmp5_;
	_tmp6_ = elektro_sim_power_source_counter;
	elektro_sim_power_source_counter = _tmp6_ + 1;
	_tmp7_ = newc;
	_tmp8_ = elektro_sim_power_source_counter;
	_tmp9_ = g_strdup_printf ("%i", _tmp8_);
	_tmp10_ = _tmp9_;
	_tmp11_ = g_strconcat ("v", _tmp10_, NULL);
	_tmp12_ = _tmp11_;
	elektro_sim_component_set_name ((ElektroSimComponent*) _tmp7_, _tmp12_);
	_g_free0 (_tmp12_);
	_g_free0 (_tmp10_);
	_tmp13_ = newc;
	elektro_sim_component_set_componentType ((ElektroSimComponent*) _tmp13_, ELEKTRO_SIM_COMPONENT_COMPONENT_TYPE_COMPONENT);
	{
		GeeArrayList* _par_list = NULL;
		GeeArrayList* _tmp14_ = NULL;
		GeeArrayList* _tmp15_ = NULL;
		gint _par_size = 0;
		GeeArrayList* _tmp16_ = NULL;
		gint _tmp17_ = 0;
		gint _tmp18_ = 0;
		gint _par_index = 0;
		_tmp14_ = ((ElektroSimComponent*) self)->parameters;
		_tmp15_ = _g_object_ref0 (_tmp14_);
		_par_list = _tmp15_;
		_tmp16_ = _par_list;
		_tmp17_ = gee_abstract_collection_get_size ((GeeCollection*) _tmp16_);
		_tmp18_ = _tmp17_;
		_par_size = _tmp18_;
		_par_index = -1;
		while (TRUE) {
			gint _tmp19_ = 0;
			gint _tmp20_ = 0;
			gint _tmp21_ = 0;
			ElektroSimParameter* par = NULL;
			GeeArrayList* _tmp22_ = NULL;
			gint _tmp23_ = 0;
			gpointer _tmp24_ = NULL;
			ElektroSimPowerSource* _tmp25_ = NULL;
			ElektroSimParameter* _tmp26_ = NULL;
			const gchar* _tmp27_ = NULL;
			const gchar* _tmp28_ = NULL;
			ElektroSimParameter* _tmp29_ = NULL;
			ElektroSimParameter* _tmp30_ = NULL;
			ElektroSimParameter* _tmp31_ = NULL;
			gdouble _tmp32_ = 0.0;
			gdouble _tmp33_ = 0.0;
			_tmp19_ = _par_index;
			_par_index = _tmp19_ + 1;
			_tmp20_ = _par_index;
			_tmp21_ = _par_size;
			if (!(_tmp20_ < _tmp21_)) {
				break;
			}
			_tmp22_ = _par_list;
			_tmp23_ = _par_index;
			_tmp24_ = gee_abstract_list_get ((GeeAbstractList*) _tmp22_, _tmp23_);
			par = (ElektroSimParameter*) _tmp24_;
			_tmp25_ = newc;
			_tmp26_ = par;
			_tmp27_ = elektro_sim_parameter_get_name (_tmp26_);
			_tmp28_ = _tmp27_;
			_tmp29_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) _tmp25_, _tmp28_);
			_tmp30_ = _tmp29_;
			_tmp31_ = par;
			_tmp32_ = elektro_sim_parameter_get_val (_tmp31_);
			_tmp33_ = _tmp32_;
			elektro_sim_parameter_set_value (_tmp30_, _tmp33_);
			_g_object_unref0 (_tmp30_);
			_g_object_unref0 (par);
		}
		_g_object_unref0 (_par_list);
	}
	result = (ElektroSimComponent*) newc;
	return result;
}


static void elektro_sim_power_source_real_snap (ElektroSimComponent* base, gint range, gint x, gint y) {
	ElektroSimPowerSource * self;
	ElektroSimPoint* point = NULL;
	gint _tmp0_ = 0;
	gint _tmp1_ = 0;
	ElektroSimPoint* _tmp2_ = NULL;
	ElektroSimPoint* _tmp3_ = NULL;
	gint _tmp4_ = 0;
	ElektroSimPoint* _tmp5_ = NULL;
	ElektroSimPoint* _tmp6_ = NULL;
	ElektroSimComponentOrientation _tmp7_ = 0;
	GeeArrayList* _tmp8_ = NULL;
	ElektroSimPoint* _tmp9_ = NULL;
	self = (ElektroSimPowerSource*) base;
	_tmp0_ = x;
	_tmp1_ = y;
	_tmp2_ = elektro_sim_point_new (_tmp0_, _tmp1_);
	_elektro_sim_point_unref0 (point);
	point = _tmp2_;
	_tmp3_ = point;
	_tmp4_ = range;
	_tmp5_ = elektro_sim_point_point_nearby (_tmp3_, _tmp4_);
	_elektro_sim_point_unref0 (point);
	point = _tmp5_;
	_tmp6_ = point;
	_tmp7_ = elektro_sim_point_connect_component (_tmp6_, (ElektroSimComponent*) self);
	elektro_sim_component_set_orientation ((ElektroSimComponent*) self, _tmp7_);
	_tmp8_ = ((ElektroSimComponent*) self)->connections;
	_tmp9_ = point;
	gee_abstract_collection_add ((GeeAbstractCollection*) _tmp8_, _tmp9_);
	_elektro_sim_point_unref0 (point);
}


static gchar* double_to_string (gdouble self) {
	gchar* result = NULL;
	gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	gint _tmp1__length1 = 0;
	const gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	gchar* _tmp4_ = NULL;
	_tmp0_ = g_new0 (gchar, G_ASCII_DTOSTR_BUF_SIZE);
	_tmp1_ = _tmp0_;
	_tmp1__length1 = G_ASCII_DTOSTR_BUF_SIZE;
	_tmp2_ = g_ascii_dtostr (_tmp1_, G_ASCII_DTOSTR_BUF_SIZE, self);
	_tmp3_ = g_strdup (_tmp2_);
	_tmp4_ = _tmp3_;
	_tmp1_ = (g_free (_tmp1_), NULL);
	result = _tmp4_;
	return result;
}


static gchar* elektro_sim_power_source_real_get_netlist_line (ElektroSimComponent* base) {
	ElektroSimPowerSource * self;
	gchar* result = NULL;
	gchar* line = NULL;
	const gchar* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	GeeArrayList* _tmp4_ = NULL;
	gpointer _tmp5_ = NULL;
	ElektroSimPoint* _tmp6_ = NULL;
	gint _tmp7_ = 0;
	gint _tmp8_ = 0;
	gchar* _tmp9_ = NULL;
	gchar* _tmp10_ = NULL;
	gchar* _tmp11_ = NULL;
	gchar* _tmp12_ = NULL;
	gchar* _tmp13_ = NULL;
	ElektroSimParameter* _tmp14_ = NULL;
	ElektroSimParameter* _tmp15_ = NULL;
	gdouble _tmp16_ = 0.0;
	gdouble _tmp17_ = 0.0;
	gint _tmp18_ = 0;
	const gchar* _tmp460_ = NULL;
	gchar* _tmp461_ = NULL;
	self = (ElektroSimPowerSource*) base;
	_tmp0_ = gtk_widget_get_name ((GtkWidget*) self);
	_tmp1_ = _tmp0_;
	_tmp2_ = g_strconcat (_tmp1_, " ", NULL);
	_tmp3_ = _tmp2_;
	_tmp4_ = ((ElektroSimComponent*) self)->connections;
	_tmp5_ = gee_abstract_list_get ((GeeAbstractList*) _tmp4_, 0);
	_tmp6_ = (ElektroSimPoint*) _tmp5_;
	_tmp7_ = elektro_sim_point_get_net (_tmp6_);
	_tmp8_ = _tmp7_;
	_tmp9_ = g_strdup_printf ("%i", _tmp8_);
	_tmp10_ = _tmp9_;
	_tmp11_ = g_strconcat (_tmp3_, _tmp10_, NULL);
	_tmp12_ = _tmp11_;
	_tmp13_ = g_strconcat (_tmp12_, " 0 ", NULL);
	_g_free0 (line);
	line = _tmp13_;
	_g_free0 (_tmp12_);
	_g_free0 (_tmp10_);
	_elektro_sim_point_unref0 (_tmp6_);
	_g_free0 (_tmp3_);
	_tmp14_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "type");
	_tmp15_ = _tmp14_;
	_tmp16_ = elektro_sim_parameter_get_val (_tmp15_);
	_tmp17_ = _tmp16_;
	_tmp18_ = (gint) _tmp17_;
	_g_object_unref0 (_tmp15_);
	switch (_tmp18_) {
		case ELEKTRO_SIM_POWER_SOURCE_TYPE_DC:
		{
			const gchar* _tmp19_ = NULL;
			ElektroSimParameter* _tmp20_ = NULL;
			ElektroSimParameter* _tmp21_ = NULL;
			gdouble _tmp22_ = 0.0;
			gdouble _tmp23_ = 0.0;
			gchar* _tmp24_ = NULL;
			gchar* _tmp25_ = NULL;
			gchar* _tmp26_ = NULL;
			gchar* _tmp27_ = NULL;
			gchar* _tmp28_ = NULL;
			_tmp19_ = line;
			_tmp20_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "voltage");
			_tmp21_ = _tmp20_;
			_tmp22_ = elektro_sim_parameter_get_val (_tmp21_);
			_tmp23_ = _tmp22_;
			_tmp24_ = double_to_string (_tmp23_);
			_tmp25_ = _tmp24_;
			_tmp26_ = g_strconcat ("dc ", _tmp25_, NULL);
			_tmp27_ = _tmp26_;
			_tmp28_ = g_strconcat (_tmp19_, _tmp27_, NULL);
			_g_free0 (line);
			line = _tmp28_;
			_g_free0 (_tmp27_);
			_g_free0 (_tmp25_);
			_g_object_unref0 (_tmp21_);
			break;
		}
		case ELEKTRO_SIM_POWER_SOURCE_TYPE_DCAC:
		{
			const gchar* _tmp29_ = NULL;
			ElektroSimParameter* _tmp30_ = NULL;
			ElektroSimParameter* _tmp31_ = NULL;
			gdouble _tmp32_ = 0.0;
			gdouble _tmp33_ = 0.0;
			gchar* _tmp34_ = NULL;
			gchar* _tmp35_ = NULL;
			gchar* _tmp36_ = NULL;
			gchar* _tmp37_ = NULL;
			gchar* _tmp38_ = NULL;
			gchar* _tmp39_ = NULL;
			ElektroSimParameter* _tmp40_ = NULL;
			ElektroSimParameter* _tmp41_ = NULL;
			gdouble _tmp42_ = 0.0;
			gdouble _tmp43_ = 0.0;
			gchar* _tmp44_ = NULL;
			gchar* _tmp45_ = NULL;
			gchar* _tmp46_ = NULL;
			gchar* _tmp47_ = NULL;
			gchar* _tmp48_ = NULL;
			_tmp29_ = line;
			_tmp30_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "dc voltage");
			_tmp31_ = _tmp30_;
			_tmp32_ = elektro_sim_parameter_get_val (_tmp31_);
			_tmp33_ = _tmp32_;
			_tmp34_ = double_to_string (_tmp33_);
			_tmp35_ = _tmp34_;
			_tmp36_ = g_strconcat ("dc ", _tmp35_, NULL);
			_tmp37_ = _tmp36_;
			_tmp38_ = g_strconcat (_tmp37_, "ac ", NULL);
			_tmp39_ = _tmp38_;
			_tmp40_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "ac voltage");
			_tmp41_ = _tmp40_;
			_tmp42_ = elektro_sim_parameter_get_val (_tmp41_);
			_tmp43_ = _tmp42_;
			_tmp44_ = double_to_string (_tmp43_);
			_tmp45_ = _tmp44_;
			_tmp46_ = g_strconcat (_tmp39_, _tmp45_, NULL);
			_tmp47_ = _tmp46_;
			_tmp48_ = g_strconcat (_tmp29_, _tmp47_, NULL);
			_g_free0 (line);
			line = _tmp48_;
			_g_free0 (_tmp47_);
			_g_free0 (_tmp45_);
			_g_object_unref0 (_tmp41_);
			_g_free0 (_tmp39_);
			_g_free0 (_tmp37_);
			_g_free0 (_tmp35_);
			_g_object_unref0 (_tmp31_);
			break;
		}
		case ELEKTRO_SIM_POWER_SOURCE_TYPE_SINUS:
		{
			const gchar* _tmp49_ = NULL;
			ElektroSimParameter* _tmp50_ = NULL;
			ElektroSimParameter* _tmp51_ = NULL;
			gdouble _tmp52_ = 0.0;
			gdouble _tmp53_ = 0.0;
			gchar* _tmp54_ = NULL;
			gchar* _tmp55_ = NULL;
			gchar* _tmp56_ = NULL;
			gchar* _tmp57_ = NULL;
			gchar* _tmp58_ = NULL;
			gchar* _tmp59_ = NULL;
			ElektroSimParameter* _tmp60_ = NULL;
			ElektroSimParameter* _tmp61_ = NULL;
			gdouble _tmp62_ = 0.0;
			gdouble _tmp63_ = 0.0;
			gchar* _tmp64_ = NULL;
			gchar* _tmp65_ = NULL;
			gchar* _tmp66_ = NULL;
			gchar* _tmp67_ = NULL;
			gchar* _tmp68_ = NULL;
			gchar* _tmp69_ = NULL;
			ElektroSimParameter* _tmp70_ = NULL;
			ElektroSimParameter* _tmp71_ = NULL;
			gdouble _tmp72_ = 0.0;
			gdouble _tmp73_ = 0.0;
			gchar* _tmp74_ = NULL;
			gchar* _tmp75_ = NULL;
			gchar* _tmp76_ = NULL;
			gchar* _tmp77_ = NULL;
			gchar* _tmp78_ = NULL;
			gchar* _tmp79_ = NULL;
			ElektroSimParameter* _tmp80_ = NULL;
			ElektroSimParameter* _tmp81_ = NULL;
			gdouble _tmp82_ = 0.0;
			gdouble _tmp83_ = 0.0;
			gchar* _tmp84_ = NULL;
			gchar* _tmp85_ = NULL;
			gchar* _tmp86_ = NULL;
			gchar* _tmp87_ = NULL;
			gchar* _tmp88_ = NULL;
			gchar* _tmp89_ = NULL;
			ElektroSimParameter* _tmp90_ = NULL;
			ElektroSimParameter* _tmp91_ = NULL;
			gdouble _tmp92_ = 0.0;
			gdouble _tmp93_ = 0.0;
			gchar* _tmp94_ = NULL;
			gchar* _tmp95_ = NULL;
			gchar* _tmp96_ = NULL;
			gchar* _tmp97_ = NULL;
			gchar* _tmp98_ = NULL;
			gchar* _tmp99_ = NULL;
			gchar* _tmp100_ = NULL;
			_tmp49_ = line;
			_tmp50_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "offset");
			_tmp51_ = _tmp50_;
			_tmp52_ = elektro_sim_parameter_get_val (_tmp51_);
			_tmp53_ = _tmp52_;
			_tmp54_ = double_to_string (_tmp53_);
			_tmp55_ = _tmp54_;
			_tmp56_ = g_strconcat ("sin(", _tmp55_, NULL);
			_tmp57_ = _tmp56_;
			_tmp58_ = g_strconcat (_tmp57_, " ", NULL);
			_tmp59_ = _tmp58_;
			_tmp60_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "amplitude");
			_tmp61_ = _tmp60_;
			_tmp62_ = elektro_sim_parameter_get_val (_tmp61_);
			_tmp63_ = _tmp62_;
			_tmp64_ = double_to_string (_tmp63_);
			_tmp65_ = _tmp64_;
			_tmp66_ = g_strconcat (_tmp59_, _tmp65_, NULL);
			_tmp67_ = _tmp66_;
			_tmp68_ = g_strconcat (_tmp67_, " ", NULL);
			_tmp69_ = _tmp68_;
			_tmp70_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "frequency");
			_tmp71_ = _tmp70_;
			_tmp72_ = elektro_sim_parameter_get_val (_tmp71_);
			_tmp73_ = _tmp72_;
			_tmp74_ = double_to_string (_tmp73_);
			_tmp75_ = _tmp74_;
			_tmp76_ = g_strconcat (_tmp69_, _tmp75_, NULL);
			_tmp77_ = _tmp76_;
			_tmp78_ = g_strconcat (_tmp77_, " ", NULL);
			_tmp79_ = _tmp78_;
			_tmp80_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "delay");
			_tmp81_ = _tmp80_;
			_tmp82_ = elektro_sim_parameter_get_val (_tmp81_);
			_tmp83_ = _tmp82_;
			_tmp84_ = double_to_string (_tmp83_);
			_tmp85_ = _tmp84_;
			_tmp86_ = g_strconcat (_tmp79_, _tmp85_, NULL);
			_tmp87_ = _tmp86_;
			_tmp88_ = g_strconcat (_tmp87_, " ", NULL);
			_tmp89_ = _tmp88_;
			_tmp90_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "damping");
			_tmp91_ = _tmp90_;
			_tmp92_ = elektro_sim_parameter_get_val (_tmp91_);
			_tmp93_ = _tmp92_;
			_tmp94_ = double_to_string (_tmp93_);
			_tmp95_ = _tmp94_;
			_tmp96_ = g_strconcat (_tmp89_, _tmp95_, NULL);
			_tmp97_ = _tmp96_;
			_tmp98_ = g_strconcat (_tmp97_, ")", NULL);
			_tmp99_ = _tmp98_;
			_tmp100_ = g_strconcat (_tmp49_, _tmp99_, NULL);
			_g_free0 (line);
			line = _tmp100_;
			_g_free0 (_tmp99_);
			_g_free0 (_tmp97_);
			_g_free0 (_tmp95_);
			_g_object_unref0 (_tmp91_);
			_g_free0 (_tmp89_);
			_g_free0 (_tmp87_);
			_g_free0 (_tmp85_);
			_g_object_unref0 (_tmp81_);
			_g_free0 (_tmp79_);
			_g_free0 (_tmp77_);
			_g_free0 (_tmp75_);
			_g_object_unref0 (_tmp71_);
			_g_free0 (_tmp69_);
			_g_free0 (_tmp67_);
			_g_free0 (_tmp65_);
			_g_object_unref0 (_tmp61_);
			_g_free0 (_tmp59_);
			_g_free0 (_tmp57_);
			_g_free0 (_tmp55_);
			_g_object_unref0 (_tmp51_);
			break;
		}
		case ELEKTRO_SIM_POWER_SOURCE_TYPE_PULSE:
		{
			const gchar* _tmp101_ = NULL;
			ElektroSimParameter* _tmp102_ = NULL;
			ElektroSimParameter* _tmp103_ = NULL;
			gdouble _tmp104_ = 0.0;
			gdouble _tmp105_ = 0.0;
			gchar* _tmp106_ = NULL;
			gchar* _tmp107_ = NULL;
			gchar* _tmp108_ = NULL;
			gchar* _tmp109_ = NULL;
			gchar* _tmp110_ = NULL;
			gchar* _tmp111_ = NULL;
			ElektroSimParameter* _tmp112_ = NULL;
			ElektroSimParameter* _tmp113_ = NULL;
			gdouble _tmp114_ = 0.0;
			gdouble _tmp115_ = 0.0;
			gchar* _tmp116_ = NULL;
			gchar* _tmp117_ = NULL;
			gchar* _tmp118_ = NULL;
			gchar* _tmp119_ = NULL;
			gchar* _tmp120_ = NULL;
			gchar* _tmp121_ = NULL;
			ElektroSimParameter* _tmp122_ = NULL;
			ElektroSimParameter* _tmp123_ = NULL;
			gdouble _tmp124_ = 0.0;
			gdouble _tmp125_ = 0.0;
			gchar* _tmp126_ = NULL;
			gchar* _tmp127_ = NULL;
			gchar* _tmp128_ = NULL;
			gchar* _tmp129_ = NULL;
			gchar* _tmp130_ = NULL;
			gchar* _tmp131_ = NULL;
			ElektroSimParameter* _tmp132_ = NULL;
			ElektroSimParameter* _tmp133_ = NULL;
			gdouble _tmp134_ = 0.0;
			gdouble _tmp135_ = 0.0;
			gchar* _tmp136_ = NULL;
			gchar* _tmp137_ = NULL;
			gchar* _tmp138_ = NULL;
			gchar* _tmp139_ = NULL;
			gchar* _tmp140_ = NULL;
			gchar* _tmp141_ = NULL;
			ElektroSimParameter* _tmp142_ = NULL;
			ElektroSimParameter* _tmp143_ = NULL;
			gdouble _tmp144_ = 0.0;
			gdouble _tmp145_ = 0.0;
			gchar* _tmp146_ = NULL;
			gchar* _tmp147_ = NULL;
			gchar* _tmp148_ = NULL;
			gchar* _tmp149_ = NULL;
			gchar* _tmp150_ = NULL;
			gchar* _tmp151_ = NULL;
			ElektroSimParameter* _tmp152_ = NULL;
			ElektroSimParameter* _tmp153_ = NULL;
			gdouble _tmp154_ = 0.0;
			gdouble _tmp155_ = 0.0;
			gchar* _tmp156_ = NULL;
			gchar* _tmp157_ = NULL;
			gchar* _tmp158_ = NULL;
			gchar* _tmp159_ = NULL;
			gchar* _tmp160_ = NULL;
			gchar* _tmp161_ = NULL;
			ElektroSimParameter* _tmp162_ = NULL;
			ElektroSimParameter* _tmp163_ = NULL;
			gdouble _tmp164_ = 0.0;
			gdouble _tmp165_ = 0.0;
			gchar* _tmp166_ = NULL;
			gchar* _tmp167_ = NULL;
			gchar* _tmp168_ = NULL;
			gchar* _tmp169_ = NULL;
			gchar* _tmp170_ = NULL;
			gchar* _tmp171_ = NULL;
			gchar* _tmp172_ = NULL;
			_tmp101_ = line;
			_tmp102_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "initial value");
			_tmp103_ = _tmp102_;
			_tmp104_ = elektro_sim_parameter_get_val (_tmp103_);
			_tmp105_ = _tmp104_;
			_tmp106_ = double_to_string (_tmp105_);
			_tmp107_ = _tmp106_;
			_tmp108_ = g_strconcat ("pulse( ", _tmp107_, NULL);
			_tmp109_ = _tmp108_;
			_tmp110_ = g_strconcat (_tmp109_, " ", NULL);
			_tmp111_ = _tmp110_;
			_tmp112_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "pulsed value");
			_tmp113_ = _tmp112_;
			_tmp114_ = elektro_sim_parameter_get_val (_tmp113_);
			_tmp115_ = _tmp114_;
			_tmp116_ = double_to_string (_tmp115_);
			_tmp117_ = _tmp116_;
			_tmp118_ = g_strconcat (_tmp111_, _tmp117_, NULL);
			_tmp119_ = _tmp118_;
			_tmp120_ = g_strconcat (_tmp119_, " ", NULL);
			_tmp121_ = _tmp120_;
			_tmp122_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "delay time");
			_tmp123_ = _tmp122_;
			_tmp124_ = elektro_sim_parameter_get_val (_tmp123_);
			_tmp125_ = _tmp124_;
			_tmp126_ = double_to_string (_tmp125_);
			_tmp127_ = _tmp126_;
			_tmp128_ = g_strconcat (_tmp121_, _tmp127_, NULL);
			_tmp129_ = _tmp128_;
			_tmp130_ = g_strconcat (_tmp129_, " ", NULL);
			_tmp131_ = _tmp130_;
			_tmp132_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "rise time");
			_tmp133_ = _tmp132_;
			_tmp134_ = elektro_sim_parameter_get_val (_tmp133_);
			_tmp135_ = _tmp134_;
			_tmp136_ = double_to_string (_tmp135_);
			_tmp137_ = _tmp136_;
			_tmp138_ = g_strconcat (_tmp131_, _tmp137_, NULL);
			_tmp139_ = _tmp138_;
			_tmp140_ = g_strconcat (_tmp139_, " ", NULL);
			_tmp141_ = _tmp140_;
			_tmp142_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "fall time");
			_tmp143_ = _tmp142_;
			_tmp144_ = elektro_sim_parameter_get_val (_tmp143_);
			_tmp145_ = _tmp144_;
			_tmp146_ = double_to_string (_tmp145_);
			_tmp147_ = _tmp146_;
			_tmp148_ = g_strconcat (_tmp141_, _tmp147_, NULL);
			_tmp149_ = _tmp148_;
			_tmp150_ = g_strconcat (_tmp149_, " ", NULL);
			_tmp151_ = _tmp150_;
			_tmp152_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "pulse width");
			_tmp153_ = _tmp152_;
			_tmp154_ = elektro_sim_parameter_get_val (_tmp153_);
			_tmp155_ = _tmp154_;
			_tmp156_ = double_to_string (_tmp155_);
			_tmp157_ = _tmp156_;
			_tmp158_ = g_strconcat (_tmp151_, _tmp157_, NULL);
			_tmp159_ = _tmp158_;
			_tmp160_ = g_strconcat (_tmp159_, " ", NULL);
			_tmp161_ = _tmp160_;
			_tmp162_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "period");
			_tmp163_ = _tmp162_;
			_tmp164_ = elektro_sim_parameter_get_val (_tmp163_);
			_tmp165_ = _tmp164_;
			_tmp166_ = double_to_string (_tmp165_);
			_tmp167_ = _tmp166_;
			_tmp168_ = g_strconcat (_tmp161_, _tmp167_, NULL);
			_tmp169_ = _tmp168_;
			_tmp170_ = g_strconcat (_tmp169_, ")", NULL);
			_tmp171_ = _tmp170_;
			_tmp172_ = g_strconcat (_tmp101_, _tmp171_, NULL);
			_g_free0 (line);
			line = _tmp172_;
			_g_free0 (_tmp171_);
			_g_free0 (_tmp169_);
			_g_free0 (_tmp167_);
			_g_object_unref0 (_tmp163_);
			_g_free0 (_tmp161_);
			_g_free0 (_tmp159_);
			_g_free0 (_tmp157_);
			_g_object_unref0 (_tmp153_);
			_g_free0 (_tmp151_);
			_g_free0 (_tmp149_);
			_g_free0 (_tmp147_);
			_g_object_unref0 (_tmp143_);
			_g_free0 (_tmp141_);
			_g_free0 (_tmp139_);
			_g_free0 (_tmp137_);
			_g_object_unref0 (_tmp133_);
			_g_free0 (_tmp131_);
			_g_free0 (_tmp129_);
			_g_free0 (_tmp127_);
			_g_object_unref0 (_tmp123_);
			_g_free0 (_tmp121_);
			_g_free0 (_tmp119_);
			_g_free0 (_tmp117_);
			_g_object_unref0 (_tmp113_);
			_g_free0 (_tmp111_);
			_g_free0 (_tmp109_);
			_g_free0 (_tmp107_);
			_g_object_unref0 (_tmp103_);
			break;
		}
		case ELEKTRO_SIM_POWER_SOURCE_TYPE_EXPO:
		{
			const gchar* _tmp173_ = NULL;
			ElektroSimParameter* _tmp174_ = NULL;
			ElektroSimParameter* _tmp175_ = NULL;
			gdouble _tmp176_ = 0.0;
			gdouble _tmp177_ = 0.0;
			gchar* _tmp178_ = NULL;
			gchar* _tmp179_ = NULL;
			gchar* _tmp180_ = NULL;
			gchar* _tmp181_ = NULL;
			gchar* _tmp182_ = NULL;
			gchar* _tmp183_ = NULL;
			ElektroSimParameter* _tmp184_ = NULL;
			ElektroSimParameter* _tmp185_ = NULL;
			gdouble _tmp186_ = 0.0;
			gdouble _tmp187_ = 0.0;
			gchar* _tmp188_ = NULL;
			gchar* _tmp189_ = NULL;
			gchar* _tmp190_ = NULL;
			gchar* _tmp191_ = NULL;
			gchar* _tmp192_ = NULL;
			gchar* _tmp193_ = NULL;
			ElektroSimParameter* _tmp194_ = NULL;
			ElektroSimParameter* _tmp195_ = NULL;
			gdouble _tmp196_ = 0.0;
			gdouble _tmp197_ = 0.0;
			gchar* _tmp198_ = NULL;
			gchar* _tmp199_ = NULL;
			gchar* _tmp200_ = NULL;
			gchar* _tmp201_ = NULL;
			gchar* _tmp202_ = NULL;
			gchar* _tmp203_ = NULL;
			ElektroSimParameter* _tmp204_ = NULL;
			ElektroSimParameter* _tmp205_ = NULL;
			gdouble _tmp206_ = 0.0;
			gdouble _tmp207_ = 0.0;
			gchar* _tmp208_ = NULL;
			gchar* _tmp209_ = NULL;
			gchar* _tmp210_ = NULL;
			gchar* _tmp211_ = NULL;
			gchar* _tmp212_ = NULL;
			gchar* _tmp213_ = NULL;
			ElektroSimParameter* _tmp214_ = NULL;
			ElektroSimParameter* _tmp215_ = NULL;
			gdouble _tmp216_ = 0.0;
			gdouble _tmp217_ = 0.0;
			gchar* _tmp218_ = NULL;
			gchar* _tmp219_ = NULL;
			gchar* _tmp220_ = NULL;
			gchar* _tmp221_ = NULL;
			gchar* _tmp222_ = NULL;
			gchar* _tmp223_ = NULL;
			ElektroSimParameter* _tmp224_ = NULL;
			ElektroSimParameter* _tmp225_ = NULL;
			gdouble _tmp226_ = 0.0;
			gdouble _tmp227_ = 0.0;
			gchar* _tmp228_ = NULL;
			gchar* _tmp229_ = NULL;
			gchar* _tmp230_ = NULL;
			gchar* _tmp231_ = NULL;
			gchar* _tmp232_ = NULL;
			gchar* _tmp233_ = NULL;
			ElektroSimParameter* _tmp234_ = NULL;
			ElektroSimParameter* _tmp235_ = NULL;
			gdouble _tmp236_ = 0.0;
			gdouble _tmp237_ = 0.0;
			gchar* _tmp238_ = NULL;
			gchar* _tmp239_ = NULL;
			gchar* _tmp240_ = NULL;
			gchar* _tmp241_ = NULL;
			gchar* _tmp242_ = NULL;
			gchar* _tmp243_ = NULL;
			gchar* _tmp244_ = NULL;
			_tmp173_ = line;
			_tmp174_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "initial value");
			_tmp175_ = _tmp174_;
			_tmp176_ = elektro_sim_parameter_get_val (_tmp175_);
			_tmp177_ = _tmp176_;
			_tmp178_ = double_to_string (_tmp177_);
			_tmp179_ = _tmp178_;
			_tmp180_ = g_strconcat ("exp( ", _tmp179_, NULL);
			_tmp181_ = _tmp180_;
			_tmp182_ = g_strconcat (_tmp181_, " ", NULL);
			_tmp183_ = _tmp182_;
			_tmp184_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "pulsed value");
			_tmp185_ = _tmp184_;
			_tmp186_ = elektro_sim_parameter_get_val (_tmp185_);
			_tmp187_ = _tmp186_;
			_tmp188_ = double_to_string (_tmp187_);
			_tmp189_ = _tmp188_;
			_tmp190_ = g_strconcat (_tmp183_, _tmp189_, NULL);
			_tmp191_ = _tmp190_;
			_tmp192_ = g_strconcat (_tmp191_, " ", NULL);
			_tmp193_ = _tmp192_;
			_tmp194_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "rise delay time");
			_tmp195_ = _tmp194_;
			_tmp196_ = elektro_sim_parameter_get_val (_tmp195_);
			_tmp197_ = _tmp196_;
			_tmp198_ = double_to_string (_tmp197_);
			_tmp199_ = _tmp198_;
			_tmp200_ = g_strconcat (_tmp193_, _tmp199_, NULL);
			_tmp201_ = _tmp200_;
			_tmp202_ = g_strconcat (_tmp201_, " ", NULL);
			_tmp203_ = _tmp202_;
			_tmp204_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "rise time");
			_tmp205_ = _tmp204_;
			_tmp206_ = elektro_sim_parameter_get_val (_tmp205_);
			_tmp207_ = _tmp206_;
			_tmp208_ = double_to_string (_tmp207_);
			_tmp209_ = _tmp208_;
			_tmp210_ = g_strconcat (_tmp203_, _tmp209_, NULL);
			_tmp211_ = _tmp210_;
			_tmp212_ = g_strconcat (_tmp211_, " ", NULL);
			_tmp213_ = _tmp212_;
			_tmp214_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "fall delay time");
			_tmp215_ = _tmp214_;
			_tmp216_ = elektro_sim_parameter_get_val (_tmp215_);
			_tmp217_ = _tmp216_;
			_tmp218_ = double_to_string (_tmp217_);
			_tmp219_ = _tmp218_;
			_tmp220_ = g_strconcat (_tmp213_, _tmp219_, NULL);
			_tmp221_ = _tmp220_;
			_tmp222_ = g_strconcat (_tmp221_, " ", NULL);
			_tmp223_ = _tmp222_;
			_tmp224_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "fall time");
			_tmp225_ = _tmp224_;
			_tmp226_ = elektro_sim_parameter_get_val (_tmp225_);
			_tmp227_ = _tmp226_;
			_tmp228_ = double_to_string (_tmp227_);
			_tmp229_ = _tmp228_;
			_tmp230_ = g_strconcat (_tmp223_, _tmp229_, NULL);
			_tmp231_ = _tmp230_;
			_tmp232_ = g_strconcat (_tmp231_, " ", NULL);
			_tmp233_ = _tmp232_;
			_tmp234_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "period");
			_tmp235_ = _tmp234_;
			_tmp236_ = elektro_sim_parameter_get_val (_tmp235_);
			_tmp237_ = _tmp236_;
			_tmp238_ = double_to_string (_tmp237_);
			_tmp239_ = _tmp238_;
			_tmp240_ = g_strconcat (_tmp233_, _tmp239_, NULL);
			_tmp241_ = _tmp240_;
			_tmp242_ = g_strconcat (_tmp241_, ")", NULL);
			_tmp243_ = _tmp242_;
			_tmp244_ = g_strconcat (_tmp173_, _tmp243_, NULL);
			_g_free0 (line);
			line = _tmp244_;
			_g_free0 (_tmp243_);
			_g_free0 (_tmp241_);
			_g_free0 (_tmp239_);
			_g_object_unref0 (_tmp235_);
			_g_free0 (_tmp233_);
			_g_free0 (_tmp231_);
			_g_free0 (_tmp229_);
			_g_object_unref0 (_tmp225_);
			_g_free0 (_tmp223_);
			_g_free0 (_tmp221_);
			_g_free0 (_tmp219_);
			_g_object_unref0 (_tmp215_);
			_g_free0 (_tmp213_);
			_g_free0 (_tmp211_);
			_g_free0 (_tmp209_);
			_g_object_unref0 (_tmp205_);
			_g_free0 (_tmp203_);
			_g_free0 (_tmp201_);
			_g_free0 (_tmp199_);
			_g_object_unref0 (_tmp195_);
			_g_free0 (_tmp193_);
			_g_free0 (_tmp191_);
			_g_free0 (_tmp189_);
			_g_object_unref0 (_tmp185_);
			_g_free0 (_tmp183_);
			_g_free0 (_tmp181_);
			_g_free0 (_tmp179_);
			_g_object_unref0 (_tmp175_);
			break;
		}
		case ELEKTRO_SIM_POWER_SOURCE_TYPE_SFFM:
		{
			const gchar* _tmp245_ = NULL;
			ElektroSimParameter* _tmp246_ = NULL;
			ElektroSimParameter* _tmp247_ = NULL;
			gdouble _tmp248_ = 0.0;
			gdouble _tmp249_ = 0.0;
			gchar* _tmp250_ = NULL;
			gchar* _tmp251_ = NULL;
			gchar* _tmp252_ = NULL;
			gchar* _tmp253_ = NULL;
			gchar* _tmp254_ = NULL;
			gchar* _tmp255_ = NULL;
			ElektroSimParameter* _tmp256_ = NULL;
			ElektroSimParameter* _tmp257_ = NULL;
			gdouble _tmp258_ = 0.0;
			gdouble _tmp259_ = 0.0;
			gchar* _tmp260_ = NULL;
			gchar* _tmp261_ = NULL;
			gchar* _tmp262_ = NULL;
			gchar* _tmp263_ = NULL;
			gchar* _tmp264_ = NULL;
			gchar* _tmp265_ = NULL;
			ElektroSimParameter* _tmp266_ = NULL;
			ElektroSimParameter* _tmp267_ = NULL;
			gdouble _tmp268_ = 0.0;
			gdouble _tmp269_ = 0.0;
			gchar* _tmp270_ = NULL;
			gchar* _tmp271_ = NULL;
			gchar* _tmp272_ = NULL;
			gchar* _tmp273_ = NULL;
			gchar* _tmp274_ = NULL;
			gchar* _tmp275_ = NULL;
			ElektroSimParameter* _tmp276_ = NULL;
			ElektroSimParameter* _tmp277_ = NULL;
			gdouble _tmp278_ = 0.0;
			gdouble _tmp279_ = 0.0;
			gchar* _tmp280_ = NULL;
			gchar* _tmp281_ = NULL;
			gchar* _tmp282_ = NULL;
			gchar* _tmp283_ = NULL;
			gchar* _tmp284_ = NULL;
			gchar* _tmp285_ = NULL;
			ElektroSimParameter* _tmp286_ = NULL;
			ElektroSimParameter* _tmp287_ = NULL;
			gdouble _tmp288_ = 0.0;
			gdouble _tmp289_ = 0.0;
			gchar* _tmp290_ = NULL;
			gchar* _tmp291_ = NULL;
			gchar* _tmp292_ = NULL;
			gchar* _tmp293_ = NULL;
			gchar* _tmp294_ = NULL;
			gchar* _tmp295_ = NULL;
			gchar* _tmp296_ = NULL;
			_tmp245_ = line;
			_tmp246_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "offset");
			_tmp247_ = _tmp246_;
			_tmp248_ = elektro_sim_parameter_get_val (_tmp247_);
			_tmp249_ = _tmp248_;
			_tmp250_ = double_to_string (_tmp249_);
			_tmp251_ = _tmp250_;
			_tmp252_ = g_strconcat ("sffm( ", _tmp251_, NULL);
			_tmp253_ = _tmp252_;
			_tmp254_ = g_strconcat (_tmp253_, " ", NULL);
			_tmp255_ = _tmp254_;
			_tmp256_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "amplitude");
			_tmp257_ = _tmp256_;
			_tmp258_ = elektro_sim_parameter_get_val (_tmp257_);
			_tmp259_ = _tmp258_;
			_tmp260_ = double_to_string (_tmp259_);
			_tmp261_ = _tmp260_;
			_tmp262_ = g_strconcat (_tmp255_, _tmp261_, NULL);
			_tmp263_ = _tmp262_;
			_tmp264_ = g_strconcat (_tmp263_, " ", NULL);
			_tmp265_ = _tmp264_;
			_tmp266_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "carrier frequency");
			_tmp267_ = _tmp266_;
			_tmp268_ = elektro_sim_parameter_get_val (_tmp267_);
			_tmp269_ = _tmp268_;
			_tmp270_ = double_to_string (_tmp269_);
			_tmp271_ = _tmp270_;
			_tmp272_ = g_strconcat (_tmp265_, _tmp271_, NULL);
			_tmp273_ = _tmp272_;
			_tmp274_ = g_strconcat (_tmp273_, " ", NULL);
			_tmp275_ = _tmp274_;
			_tmp276_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "modulation index");
			_tmp277_ = _tmp276_;
			_tmp278_ = elektro_sim_parameter_get_val (_tmp277_);
			_tmp279_ = _tmp278_;
			_tmp280_ = double_to_string (_tmp279_);
			_tmp281_ = _tmp280_;
			_tmp282_ = g_strconcat (_tmp275_, _tmp281_, NULL);
			_tmp283_ = _tmp282_;
			_tmp284_ = g_strconcat (_tmp283_, " ", NULL);
			_tmp285_ = _tmp284_;
			_tmp286_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "signal frequency");
			_tmp287_ = _tmp286_;
			_tmp288_ = elektro_sim_parameter_get_val (_tmp287_);
			_tmp289_ = _tmp288_;
			_tmp290_ = double_to_string (_tmp289_);
			_tmp291_ = _tmp290_;
			_tmp292_ = g_strconcat (_tmp285_, _tmp291_, NULL);
			_tmp293_ = _tmp292_;
			_tmp294_ = g_strconcat (_tmp293_, ")", NULL);
			_tmp295_ = _tmp294_;
			_tmp296_ = g_strconcat (_tmp245_, _tmp295_, NULL);
			_g_free0 (line);
			line = _tmp296_;
			_g_free0 (_tmp295_);
			_g_free0 (_tmp293_);
			_g_free0 (_tmp291_);
			_g_object_unref0 (_tmp287_);
			_g_free0 (_tmp285_);
			_g_free0 (_tmp283_);
			_g_free0 (_tmp281_);
			_g_object_unref0 (_tmp277_);
			_g_free0 (_tmp275_);
			_g_free0 (_tmp273_);
			_g_free0 (_tmp271_);
			_g_object_unref0 (_tmp267_);
			_g_free0 (_tmp265_);
			_g_free0 (_tmp263_);
			_g_free0 (_tmp261_);
			_g_object_unref0 (_tmp257_);
			_g_free0 (_tmp255_);
			_g_free0 (_tmp253_);
			_g_free0 (_tmp251_);
			_g_object_unref0 (_tmp247_);
			break;
		}
		case ELEKTRO_SIM_POWER_SOURCE_TYPE_AM:
		{
			const gchar* _tmp297_ = NULL;
			ElektroSimParameter* _tmp298_ = NULL;
			ElektroSimParameter* _tmp299_ = NULL;
			gdouble _tmp300_ = 0.0;
			gdouble _tmp301_ = 0.0;
			gchar* _tmp302_ = NULL;
			gchar* _tmp303_ = NULL;
			gchar* _tmp304_ = NULL;
			gchar* _tmp305_ = NULL;
			gchar* _tmp306_ = NULL;
			gchar* _tmp307_ = NULL;
			ElektroSimParameter* _tmp308_ = NULL;
			ElektroSimParameter* _tmp309_ = NULL;
			gdouble _tmp310_ = 0.0;
			gdouble _tmp311_ = 0.0;
			gchar* _tmp312_ = NULL;
			gchar* _tmp313_ = NULL;
			gchar* _tmp314_ = NULL;
			gchar* _tmp315_ = NULL;
			gchar* _tmp316_ = NULL;
			gchar* _tmp317_ = NULL;
			ElektroSimParameter* _tmp318_ = NULL;
			ElektroSimParameter* _tmp319_ = NULL;
			gdouble _tmp320_ = 0.0;
			gdouble _tmp321_ = 0.0;
			gchar* _tmp322_ = NULL;
			gchar* _tmp323_ = NULL;
			gchar* _tmp324_ = NULL;
			gchar* _tmp325_ = NULL;
			gchar* _tmp326_ = NULL;
			gchar* _tmp327_ = NULL;
			ElektroSimParameter* _tmp328_ = NULL;
			ElektroSimParameter* _tmp329_ = NULL;
			gdouble _tmp330_ = 0.0;
			gdouble _tmp331_ = 0.0;
			gchar* _tmp332_ = NULL;
			gchar* _tmp333_ = NULL;
			gchar* _tmp334_ = NULL;
			gchar* _tmp335_ = NULL;
			gchar* _tmp336_ = NULL;
			gchar* _tmp337_ = NULL;
			ElektroSimParameter* _tmp338_ = NULL;
			ElektroSimParameter* _tmp339_ = NULL;
			gdouble _tmp340_ = 0.0;
			gdouble _tmp341_ = 0.0;
			gchar* _tmp342_ = NULL;
			gchar* _tmp343_ = NULL;
			gchar* _tmp344_ = NULL;
			gchar* _tmp345_ = NULL;
			gchar* _tmp346_ = NULL;
			gchar* _tmp347_ = NULL;
			gchar* _tmp348_ = NULL;
			_tmp297_ = line;
			_tmp298_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "amplitude");
			_tmp299_ = _tmp298_;
			_tmp300_ = elektro_sim_parameter_get_val (_tmp299_);
			_tmp301_ = _tmp300_;
			_tmp302_ = double_to_string (_tmp301_);
			_tmp303_ = _tmp302_;
			_tmp304_ = g_strconcat ("am(", _tmp303_, NULL);
			_tmp305_ = _tmp304_;
			_tmp306_ = g_strconcat (_tmp305_, " ", NULL);
			_tmp307_ = _tmp306_;
			_tmp308_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "offset");
			_tmp309_ = _tmp308_;
			_tmp310_ = elektro_sim_parameter_get_val (_tmp309_);
			_tmp311_ = _tmp310_;
			_tmp312_ = double_to_string (_tmp311_);
			_tmp313_ = _tmp312_;
			_tmp314_ = g_strconcat (_tmp307_, _tmp313_, NULL);
			_tmp315_ = _tmp314_;
			_tmp316_ = g_strconcat (_tmp315_, " ", NULL);
			_tmp317_ = _tmp316_;
			_tmp318_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "modulating frequency");
			_tmp319_ = _tmp318_;
			_tmp320_ = elektro_sim_parameter_get_val (_tmp319_);
			_tmp321_ = _tmp320_;
			_tmp322_ = double_to_string (_tmp321_);
			_tmp323_ = _tmp322_;
			_tmp324_ = g_strconcat (_tmp317_, _tmp323_, NULL);
			_tmp325_ = _tmp324_;
			_tmp326_ = g_strconcat (_tmp325_, " ", NULL);
			_tmp327_ = _tmp326_;
			_tmp328_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "carrier frequency");
			_tmp329_ = _tmp328_;
			_tmp330_ = elektro_sim_parameter_get_val (_tmp329_);
			_tmp331_ = _tmp330_;
			_tmp332_ = double_to_string (_tmp331_);
			_tmp333_ = _tmp332_;
			_tmp334_ = g_strconcat (_tmp327_, _tmp333_, NULL);
			_tmp335_ = _tmp334_;
			_tmp336_ = g_strconcat (_tmp335_, " ", NULL);
			_tmp337_ = _tmp336_;
			_tmp338_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "signal delay");
			_tmp339_ = _tmp338_;
			_tmp340_ = elektro_sim_parameter_get_val (_tmp339_);
			_tmp341_ = _tmp340_;
			_tmp342_ = double_to_string (_tmp341_);
			_tmp343_ = _tmp342_;
			_tmp344_ = g_strconcat (_tmp337_, _tmp343_, NULL);
			_tmp345_ = _tmp344_;
			_tmp346_ = g_strconcat (_tmp345_, ")", NULL);
			_tmp347_ = _tmp346_;
			_tmp348_ = g_strconcat (_tmp297_, _tmp347_, NULL);
			_g_free0 (line);
			line = _tmp348_;
			_g_free0 (_tmp347_);
			_g_free0 (_tmp345_);
			_g_free0 (_tmp343_);
			_g_object_unref0 (_tmp339_);
			_g_free0 (_tmp337_);
			_g_free0 (_tmp335_);
			_g_free0 (_tmp333_);
			_g_object_unref0 (_tmp329_);
			_g_free0 (_tmp327_);
			_g_free0 (_tmp325_);
			_g_free0 (_tmp323_);
			_g_object_unref0 (_tmp319_);
			_g_free0 (_tmp317_);
			_g_free0 (_tmp315_);
			_g_free0 (_tmp313_);
			_g_object_unref0 (_tmp309_);
			_g_free0 (_tmp307_);
			_g_free0 (_tmp305_);
			_g_free0 (_tmp303_);
			_g_object_unref0 (_tmp299_);
			break;
		}
		case ELEKTRO_SIM_POWER_SOURCE_TYPE_RANDOM:
		{
			const gchar* _tmp349_ = NULL;
			ElektroSimParameter* _tmp350_ = NULL;
			ElektroSimParameter* _tmp351_ = NULL;
			gdouble _tmp352_ = 0.0;
			gdouble _tmp353_ = 0.0;
			gchar* _tmp354_ = NULL;
			gchar* _tmp355_ = NULL;
			gchar* _tmp356_ = NULL;
			gchar* _tmp357_ = NULL;
			gchar* _tmp358_ = NULL;
			gchar* _tmp359_ = NULL;
			ElektroSimParameter* _tmp360_ = NULL;
			ElektroSimParameter* _tmp361_ = NULL;
			gdouble _tmp362_ = 0.0;
			gdouble _tmp363_ = 0.0;
			gchar* _tmp364_ = NULL;
			gchar* _tmp365_ = NULL;
			gchar* _tmp366_ = NULL;
			gchar* _tmp367_ = NULL;
			gchar* _tmp368_ = NULL;
			gchar* _tmp369_ = NULL;
			ElektroSimParameter* _tmp370_ = NULL;
			ElektroSimParameter* _tmp371_ = NULL;
			gdouble _tmp372_ = 0.0;
			gdouble _tmp373_ = 0.0;
			gchar* _tmp374_ = NULL;
			gchar* _tmp375_ = NULL;
			gchar* _tmp376_ = NULL;
			gchar* _tmp377_ = NULL;
			gchar* _tmp378_ = NULL;
			gchar* _tmp379_ = NULL;
			gchar* _tmp380_ = NULL;
			ElektroSimParameter* _tmp381_ = NULL;
			ElektroSimParameter* _tmp382_ = NULL;
			gdouble _tmp383_ = 0.0;
			gdouble _tmp384_ = 0.0;
			gint _tmp385_ = 0;
			const gchar* _tmp458_ = NULL;
			gchar* _tmp459_ = NULL;
			_tmp349_ = line;
			_tmp350_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "random type");
			_tmp351_ = _tmp350_;
			_tmp352_ = elektro_sim_parameter_get_val (_tmp351_);
			_tmp353_ = _tmp352_;
			_tmp354_ = double_to_string (_tmp353_);
			_tmp355_ = _tmp354_;
			_tmp356_ = g_strconcat ("trrandom(", _tmp355_, NULL);
			_tmp357_ = _tmp356_;
			_tmp358_ = g_strconcat (_tmp357_, " ", NULL);
			_tmp359_ = _tmp358_;
			_tmp360_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "duration");
			_tmp361_ = _tmp360_;
			_tmp362_ = elektro_sim_parameter_get_val (_tmp361_);
			_tmp363_ = _tmp362_;
			_tmp364_ = double_to_string (_tmp363_);
			_tmp365_ = _tmp364_;
			_tmp366_ = g_strconcat (_tmp359_, _tmp365_, NULL);
			_tmp367_ = _tmp366_;
			_tmp368_ = g_strconcat (_tmp367_, " ", NULL);
			_tmp369_ = _tmp368_;
			_tmp370_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "time delay");
			_tmp371_ = _tmp370_;
			_tmp372_ = elektro_sim_parameter_get_val (_tmp371_);
			_tmp373_ = _tmp372_;
			_tmp374_ = double_to_string (_tmp373_);
			_tmp375_ = _tmp374_;
			_tmp376_ = g_strconcat (_tmp369_, _tmp375_, NULL);
			_tmp377_ = _tmp376_;
			_tmp378_ = g_strconcat (_tmp377_, " ", NULL);
			_tmp379_ = _tmp378_;
			_tmp380_ = g_strconcat (_tmp349_, _tmp379_, NULL);
			_g_free0 (line);
			line = _tmp380_;
			_g_free0 (_tmp379_);
			_g_free0 (_tmp377_);
			_g_free0 (_tmp375_);
			_g_object_unref0 (_tmp371_);
			_g_free0 (_tmp369_);
			_g_free0 (_tmp367_);
			_g_free0 (_tmp365_);
			_g_object_unref0 (_tmp361_);
			_g_free0 (_tmp359_);
			_g_free0 (_tmp357_);
			_g_free0 (_tmp355_);
			_g_object_unref0 (_tmp351_);
			_tmp381_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "random type");
			_tmp382_ = _tmp381_;
			_tmp383_ = elektro_sim_parameter_get_val (_tmp382_);
			_tmp384_ = _tmp383_;
			_tmp385_ = (gint) _tmp384_;
			_g_object_unref0 (_tmp382_);
			switch (_tmp385_) {
				case ELEKTRO_SIM_POWER_SOURCE_RANDOM_TYPE_UNIFORM:
				{
					const gchar* _tmp386_ = NULL;
					ElektroSimParameter* _tmp387_ = NULL;
					ElektroSimParameter* _tmp388_ = NULL;
					gdouble _tmp389_ = 0.0;
					gdouble _tmp390_ = 0.0;
					gchar* _tmp391_ = NULL;
					gchar* _tmp392_ = NULL;
					gchar* _tmp393_ = NULL;
					gchar* _tmp394_ = NULL;
					ElektroSimParameter* _tmp395_ = NULL;
					ElektroSimParameter* _tmp396_ = NULL;
					gdouble _tmp397_ = 0.0;
					gdouble _tmp398_ = 0.0;
					gchar* _tmp399_ = NULL;
					gchar* _tmp400_ = NULL;
					gchar* _tmp401_ = NULL;
					gchar* _tmp402_ = NULL;
					gchar* _tmp403_ = NULL;
					_tmp386_ = line;
					_tmp387_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "range");
					_tmp388_ = _tmp387_;
					_tmp389_ = elektro_sim_parameter_get_val (_tmp388_);
					_tmp390_ = _tmp389_;
					_tmp391_ = double_to_string (_tmp390_);
					_tmp392_ = _tmp391_;
					_tmp393_ = g_strconcat (_tmp392_, " ", NULL);
					_tmp394_ = _tmp393_;
					_tmp395_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "offset");
					_tmp396_ = _tmp395_;
					_tmp397_ = elektro_sim_parameter_get_val (_tmp396_);
					_tmp398_ = _tmp397_;
					_tmp399_ = double_to_string (_tmp398_);
					_tmp400_ = _tmp399_;
					_tmp401_ = g_strconcat (_tmp394_, _tmp400_, NULL);
					_tmp402_ = _tmp401_;
					_tmp403_ = g_strconcat (_tmp386_, _tmp402_, NULL);
					_g_free0 (line);
					line = _tmp403_;
					_g_free0 (_tmp402_);
					_g_free0 (_tmp400_);
					_g_object_unref0 (_tmp396_);
					_g_free0 (_tmp394_);
					_g_free0 (_tmp392_);
					_g_object_unref0 (_tmp388_);
					break;
				}
				case ELEKTRO_SIM_POWER_SOURCE_RANDOM_TYPE_GAUSSIAN:
				{
					const gchar* _tmp404_ = NULL;
					ElektroSimParameter* _tmp405_ = NULL;
					ElektroSimParameter* _tmp406_ = NULL;
					gdouble _tmp407_ = 0.0;
					gdouble _tmp408_ = 0.0;
					gchar* _tmp409_ = NULL;
					gchar* _tmp410_ = NULL;
					gchar* _tmp411_ = NULL;
					gchar* _tmp412_ = NULL;
					ElektroSimParameter* _tmp413_ = NULL;
					ElektroSimParameter* _tmp414_ = NULL;
					gdouble _tmp415_ = 0.0;
					gdouble _tmp416_ = 0.0;
					gchar* _tmp417_ = NULL;
					gchar* _tmp418_ = NULL;
					gchar* _tmp419_ = NULL;
					gchar* _tmp420_ = NULL;
					gchar* _tmp421_ = NULL;
					_tmp404_ = line;
					_tmp405_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "standard dev");
					_tmp406_ = _tmp405_;
					_tmp407_ = elektro_sim_parameter_get_val (_tmp406_);
					_tmp408_ = _tmp407_;
					_tmp409_ = double_to_string (_tmp408_);
					_tmp410_ = _tmp409_;
					_tmp411_ = g_strconcat (_tmp410_, " ", NULL);
					_tmp412_ = _tmp411_;
					_tmp413_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "mean");
					_tmp414_ = _tmp413_;
					_tmp415_ = elektro_sim_parameter_get_val (_tmp414_);
					_tmp416_ = _tmp415_;
					_tmp417_ = double_to_string (_tmp416_);
					_tmp418_ = _tmp417_;
					_tmp419_ = g_strconcat (_tmp412_, _tmp418_, NULL);
					_tmp420_ = _tmp419_;
					_tmp421_ = g_strconcat (_tmp404_, _tmp420_, NULL);
					_g_free0 (line);
					line = _tmp421_;
					_g_free0 (_tmp420_);
					_g_free0 (_tmp418_);
					_g_object_unref0 (_tmp414_);
					_g_free0 (_tmp412_);
					_g_free0 (_tmp410_);
					_g_object_unref0 (_tmp406_);
					break;
				}
				case ELEKTRO_SIM_POWER_SOURCE_RANDOM_TYPE_EXPONENTIAL:
				{
					const gchar* _tmp422_ = NULL;
					ElektroSimParameter* _tmp423_ = NULL;
					ElektroSimParameter* _tmp424_ = NULL;
					gdouble _tmp425_ = 0.0;
					gdouble _tmp426_ = 0.0;
					gchar* _tmp427_ = NULL;
					gchar* _tmp428_ = NULL;
					gchar* _tmp429_ = NULL;
					gchar* _tmp430_ = NULL;
					ElektroSimParameter* _tmp431_ = NULL;
					ElektroSimParameter* _tmp432_ = NULL;
					gdouble _tmp433_ = 0.0;
					gdouble _tmp434_ = 0.0;
					gchar* _tmp435_ = NULL;
					gchar* _tmp436_ = NULL;
					gchar* _tmp437_ = NULL;
					gchar* _tmp438_ = NULL;
					gchar* _tmp439_ = NULL;
					_tmp422_ = line;
					_tmp423_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "mean");
					_tmp424_ = _tmp423_;
					_tmp425_ = elektro_sim_parameter_get_val (_tmp424_);
					_tmp426_ = _tmp425_;
					_tmp427_ = double_to_string (_tmp426_);
					_tmp428_ = _tmp427_;
					_tmp429_ = g_strconcat (_tmp428_, " ", NULL);
					_tmp430_ = _tmp429_;
					_tmp431_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "offset");
					_tmp432_ = _tmp431_;
					_tmp433_ = elektro_sim_parameter_get_val (_tmp432_);
					_tmp434_ = _tmp433_;
					_tmp435_ = double_to_string (_tmp434_);
					_tmp436_ = _tmp435_;
					_tmp437_ = g_strconcat (_tmp430_, _tmp436_, NULL);
					_tmp438_ = _tmp437_;
					_tmp439_ = g_strconcat (_tmp422_, _tmp438_, NULL);
					_g_free0 (line);
					line = _tmp439_;
					_g_free0 (_tmp438_);
					_g_free0 (_tmp436_);
					_g_object_unref0 (_tmp432_);
					_g_free0 (_tmp430_);
					_g_free0 (_tmp428_);
					_g_object_unref0 (_tmp424_);
					break;
				}
				case ELEKTRO_SIM_POWER_SOURCE_RANDOM_TYPE_POISSON:
				{
					const gchar* _tmp440_ = NULL;
					ElektroSimParameter* _tmp441_ = NULL;
					ElektroSimParameter* _tmp442_ = NULL;
					gdouble _tmp443_ = 0.0;
					gdouble _tmp444_ = 0.0;
					gchar* _tmp445_ = NULL;
					gchar* _tmp446_ = NULL;
					gchar* _tmp447_ = NULL;
					gchar* _tmp448_ = NULL;
					ElektroSimParameter* _tmp449_ = NULL;
					ElektroSimParameter* _tmp450_ = NULL;
					gdouble _tmp451_ = 0.0;
					gdouble _tmp452_ = 0.0;
					gchar* _tmp453_ = NULL;
					gchar* _tmp454_ = NULL;
					gchar* _tmp455_ = NULL;
					gchar* _tmp456_ = NULL;
					gchar* _tmp457_ = NULL;
					_tmp440_ = line;
					_tmp441_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "lambda");
					_tmp442_ = _tmp441_;
					_tmp443_ = elektro_sim_parameter_get_val (_tmp442_);
					_tmp444_ = _tmp443_;
					_tmp445_ = double_to_string (_tmp444_);
					_tmp446_ = _tmp445_;
					_tmp447_ = g_strconcat (_tmp446_, " ", NULL);
					_tmp448_ = _tmp447_;
					_tmp449_ = elektro_sim_component_get_parameter ((ElektroSimComponent*) self, "offset");
					_tmp450_ = _tmp449_;
					_tmp451_ = elektro_sim_parameter_get_val (_tmp450_);
					_tmp452_ = _tmp451_;
					_tmp453_ = double_to_string (_tmp452_);
					_tmp454_ = _tmp453_;
					_tmp455_ = g_strconcat (_tmp448_, _tmp454_, NULL);
					_tmp456_ = _tmp455_;
					_tmp457_ = g_strconcat (_tmp440_, _tmp456_, NULL);
					_g_free0 (line);
					line = _tmp457_;
					_g_free0 (_tmp456_);
					_g_free0 (_tmp454_);
					_g_object_unref0 (_tmp450_);
					_g_free0 (_tmp448_);
					_g_free0 (_tmp446_);
					_g_object_unref0 (_tmp442_);
					break;
				}
				default:
				break;
			}
			_tmp458_ = line;
			_tmp459_ = g_strconcat (_tmp458_, ")", NULL);
			_g_free0 (line);
			line = _tmp459_;
			break;
		}
		default:
		break;
	}
	_tmp460_ = line;
	_tmp461_ = g_strconcat (_tmp460_, "\n", NULL);
	_g_free0 (line);
	line = _tmp461_;
	result = line;
	return result;
}


static void elektro_sim_power_source_class_init (ElektroSimPowerSourceClass * klass) {
	elektro_sim_power_source_parent_class = g_type_class_peek_parent (klass);
	g_type_class_add_private (klass, sizeof (ElektroSimPowerSourcePrivate));
	ELEKTRO_SIM_COMPONENT_CLASS (klass)->draw_image = elektro_sim_power_source_real_draw_image;
	ELEKTRO_SIM_COMPONENT_CLASS (klass)->clear_counter = elektro_sim_power_source_real_clear_counter;
	ELEKTRO_SIM_COMPONENT_CLASS (klass)->clone = elektro_sim_power_source_real_clone;
	ELEKTRO_SIM_COMPONENT_CLASS (klass)->snap = elektro_sim_power_source_real_snap;
	ELEKTRO_SIM_COMPONENT_CLASS (klass)->get_netlist_line = elektro_sim_power_source_real_get_netlist_line;
	G_OBJECT_CLASS (klass)->finalize = elektro_sim_power_source_finalize;
}


static void elektro_sim_power_source_instance_init (ElektroSimPowerSource * self) {
	self->priv = ELEKTRO_SIM_POWER_SOURCE_GET_PRIVATE (self);
}


static void elektro_sim_power_source_finalize (GObject* obj) {
	ElektroSimPowerSource * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, ELEKTRO_SIM_TYPE_POWER_SOURCE, ElektroSimPowerSource);
	_g_object_unref0 (self->priv->optionsAdded);
	_g_object_unref0 (self->priv->randomOptionsAdded);
	G_OBJECT_CLASS (elektro_sim_power_source_parent_class)->finalize (obj);
}


GType elektro_sim_power_source_get_type (void) {
	static volatile gsize elektro_sim_power_source_type_id__volatile = 0;
	if (g_once_init_enter (&elektro_sim_power_source_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (ElektroSimPowerSourceClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) elektro_sim_power_source_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (ElektroSimPowerSource), 0, (GInstanceInitFunc) elektro_sim_power_source_instance_init, NULL };
		GType elektro_sim_power_source_type_id;
		elektro_sim_power_source_type_id = g_type_register_static (ELEKTRO_SIM_TYPE_COMPONENT, "ElektroSimPowerSource", &g_define_type_info, 0);
		g_once_init_leave (&elektro_sim_power_source_type_id__volatile, elektro_sim_power_source_type_id);
	}
	return elektro_sim_power_source_type_id__volatile;
}



